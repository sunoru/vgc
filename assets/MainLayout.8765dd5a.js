import{c as H,a as r,h as b,b as J,i as se,r as k,w as m,o as ce,d as Ie,g as A,l as X,e as $e,n as he,f as Ae,j as ge,p as Ce,k as Ee,m as Ne,q as Ue,s as je,t as U,u as Ke,v as Ge,x as Te,y as I,z as K,A as x,B as q,Q as Je,C as Xe,D as G,E as ye,L as be,F as we,G as pe,H as Ye,I as Ze,J as et,K as tt}from"./index.3b87f82e.js";import{Q as at}from"./QToggle.96d4bb05.js";import{Q as re,u as lt,a as ot,b as nt,c as it,d as rt,T as ne,e as ut,g as st,f as ct,h as dt,i as ie,j as ke,k as ue,l as ft}from"./QItemSection.fc32d25f.js";import{u as vt,a as mt}from"./use-dark.c647abb3.js";import{b as j}from"./format.51215613.js";import{Q as ht}from"./QItem.604656bb.js";import{_ as xe}from"./plugin-vue_export-helper.21dcd24c.js";import{u as gt}from"./use-quasar.dca8e83c.js";var yt=H({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:v}){const l=r(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>b("div",{class:l.value},J(v.default))}}),bt=H({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:v}){const l=r(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>b("div",{class:l.value},J(v.default))}}),wt=H({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:v,emit:l}){const{proxy:{$q:u}}=A(),o=se(X,()=>{console.error("QHeader needs to be child of QLayout")}),d=k(parseInt(e.heightHint,10)),y=k(!0),S=r(()=>e.reveal===!0||o.view.value.indexOf("H")>-1||u.platform.is.ios&&o.isContainer.value===!0),g=r(()=>{if(e.modelValue!==!0)return 0;if(S.value===!0)return y.value===!0?d.value:0;const n=d.value-o.scroll.value.position;return n>0?n:0}),a=r(()=>e.modelValue!==!0||S.value===!0&&y.value!==!0),B=r(()=>e.modelValue===!0&&a.value===!0&&e.reveal===!0),L=r(()=>"q-header q-layout__section--marginal "+(S.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(a.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),$=r(()=>{const n=o.rows.value.top,C={};return n[0]==="l"&&o.left.space===!0&&(C[u.lang.rtl===!0?"right":"left"]=`${o.left.size}px`),n[2]==="r"&&o.right.space===!0&&(C[u.lang.rtl===!0?"left":"right"]=`${o.right.size}px`),C});function i(n,C){o.update("header",n,C)}function w(n,C){n.value!==C&&(n.value=C)}function p({height:n}){w(d,n),i("size",n)}function f(n){B.value===!0&&w(y,!0),l("focusin",n)}m(()=>e.modelValue,n=>{i("space",n),w(y,!0),o.animate()}),m(g,n=>{i("offset",n)}),m(()=>e.reveal,n=>{n===!1&&w(y,e.modelValue)}),m(y,n=>{o.animate(),l("reveal",n)}),m(o.scroll,n=>{e.reveal===!0&&w(y,n.direction==="up"||n.position<=e.revealOffset||n.position-n.inflectionPoint<100)});const P={};return o.instances.header=P,e.modelValue===!0&&i("size",d.value),i("space",e.modelValue),i("offset",g.value),ce(()=>{o.instances.header===P&&(o.instances.header=void 0,i("size",0),i("offset",0),i("space",!1))}),()=>{const n=Ie(v.default,[]);return e.elevated===!0&&n.push(b("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),n.push(b(re,{debounce:0,onResize:p})),b("header",{class:L.value,style:$.value,onFocusin:f},n)}}});const Se=150;var pt=H({name:"QDrawer",inheritAttrs:!1,props:{...lt,...vt,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...ot,"on-layout","mini-state"],setup(e,{slots:v,emit:l,attrs:u}){const o=A(),{proxy:{$q:d}}=o,y=mt(e,d),{preventBodyScroll:S}=ut(),{registerTimeout:g}=nt(),a=se(X,()=>{console.error("QDrawer needs to be child of QLayout")});let B,L,$;const i=k(e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint),w=r(()=>e.mini===!0&&i.value!==!0),p=r(()=>w.value===!0?e.miniWidth:e.width),f=k(e.showIfAbove===!0&&i.value===!1?!0:e.modelValue===!0),P=r(()=>e.persistent!==!0&&(i.value===!0||Le.value===!0));function n(t,c){if(Q(),t!==!1&&a.animate(),z(0),i.value===!0){const T=a.instances[E.value];T!==void 0&&T.belowBreakpoint===!0&&T.hide(!1),M(1),a.isContainer.value!==!0&&S(!0)}else M(0),t!==!1&&ae(!1);g(()=>{t!==!1&&ae(!0),c!==!0&&l("show",t)},Se)}function C(t,c){V(),t!==!1&&a.animate(),M(0),z(W.value*p.value),le(),c!==!0&&g(()=>{l("hide",t)},Se)}const{show:s,hide:h}=it({showing:f,hideOnRouteChange:P,handleShow:n,handleHide:C}),{addToHistory:Q,removeFromHistory:V}=rt(f,h,P),D={belowBreakpoint:i,hide:h},_=r(()=>e.side==="right"),W=r(()=>(d.lang.rtl===!0?-1:1)*(_.value===!0?1:-1)),de=k(0),R=k(!1),Y=k(!1),fe=k(p.value*W.value),E=r(()=>_.value===!0?"left":"right"),Z=r(()=>f.value===!0&&i.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:p.value:0),ee=r(()=>e.overlay===!0||e.miniToOverlay===!0||a.view.value.indexOf(_.value?"R":"L")>-1||d.platform.is.ios===!0&&a.isContainer.value===!0),F=r(()=>e.overlay===!1&&f.value===!0&&i.value===!1),Le=r(()=>e.overlay===!0&&f.value===!0&&i.value===!1),_e=r(()=>"fullscreen q-drawer__backdrop"+(f.value===!1&&R.value===!1?" hidden":"")),ze=r(()=>({backgroundColor:`rgba(0,0,0,${de.value*.4})`})),ve=r(()=>_.value===!0?a.rows.value.top[2]==="r":a.rows.value.top[0]==="l"),Be=r(()=>_.value===!0?a.rows.value.bottom[2]==="r":a.rows.value.bottom[0]==="l"),Qe=r(()=>{const t={};return a.header.space===!0&&ve.value===!1&&(ee.value===!0?t.top=`${a.header.offset}px`:a.header.space===!0&&(t.top=`${a.header.size}px`)),a.footer.space===!0&&Be.value===!1&&(ee.value===!0?t.bottom=`${a.footer.offset}px`:a.footer.space===!0&&(t.bottom=`${a.footer.size}px`)),t}),Pe=r(()=>{const t={width:`${p.value}px`,transform:`translateX(${fe.value}px)`};return i.value===!0?t:Object.assign(t,Qe.value)}),De=r(()=>"q-drawer__content fit "+(a.isContainer.value!==!0?"scroll":"overflow-auto")),Me=r(()=>`q-drawer q-drawer--${e.side}`+(Y.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(y.value===!0?" q-drawer--dark q-dark":"")+(R.value===!0?" no-transition":f.value===!0?"":" q-layout--prevent-focus")+(i.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${w.value===!0?"mini":"standard"}`+(ee.value===!0||F.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(ve.value===!0?" q-drawer--top-padding":""))),Oe=r(()=>{const t=d.lang.rtl===!0?e.side:E.value;return[[ne,Re,void 0,{[t]:!0,mouse:!0}]]}),Ve=r(()=>{const t=d.lang.rtl===!0?E.value:e.side;return[[ne,me,void 0,{[t]:!0,mouse:!0}]]}),He=r(()=>{const t=d.lang.rtl===!0?E.value:e.side;return[[ne,me,void 0,{[t]:!0,mouse:!0,mouseAllDir:!0}]]});function te(){Fe(i,e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint)}m(i,t=>{t===!0?(B=f.value,f.value===!0&&h(!1)):e.overlay===!1&&e.behavior!=="mobile"&&B!==!1&&(f.value===!0?(z(0),M(0),le()):s(!1))}),m(()=>e.side,(t,c)=>{a.instances[c]===D&&(a.instances[c]=void 0,a[c].space=!1,a[c].offset=0),a.instances[t]=D,a[t].size=p.value,a[t].space=F.value,a[t].offset=Z.value}),m(a.totalWidth,()=>{(a.isContainer.value===!0||document.qScrollPrevented!==!0)&&te()}),m(()=>e.behavior+e.breakpoint,te),m(a.isContainer,t=>{f.value===!0&&S(t!==!0),t===!0&&te()}),m(a.scrollbarWidth,()=>{z(f.value===!0?0:void 0)}),m(Z,t=>{O("offset",t)}),m(F,t=>{l("on-layout",t),O("space",t)}),m(_,()=>{z()}),m(p,t=>{z(),oe(e.miniToOverlay,t)}),m(()=>e.miniToOverlay,t=>{oe(t,p.value)}),m(()=>d.lang.rtl,()=>{z()}),m(()=>e.mini,()=>{e.modelValue===!0&&(We(),a.animate())}),m(w,t=>{l("mini-state",t)});function z(t){t===void 0?he(()=>{t=f.value===!0?0:p.value,z(W.value*t)}):(a.isContainer.value===!0&&_.value===!0&&(i.value===!0||Math.abs(t)===p.value)&&(t+=W.value*a.scrollbarWidth.value),fe.value=t)}function M(t){de.value=t}function ae(t){const c=t===!0?"remove":a.isContainer.value!==!0?"add":"";c!==""&&document.body.classList[c]("q-body--drawer-toggle")}function We(){clearTimeout(L),o.proxy&&o.proxy.$el&&o.proxy.$el.classList.add("q-drawer--mini-animate"),Y.value=!0,L=setTimeout(()=>{Y.value=!1,o&&o.proxy&&o.proxy.$el&&o.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Re(t){if(f.value!==!1)return;const c=p.value,T=j(t.distance.x,0,c);if(t.isFinal===!0){T>=Math.min(75,c)===!0?s():(a.animate(),M(0),z(W.value*c)),R.value=!1;return}z((d.lang.rtl===!0?_.value!==!0:_.value)?Math.max(c-T,0):Math.min(0,T-c)),M(j(T/c,0,1)),t.isFirst===!0&&(R.value=!0)}function me(t){if(f.value!==!0)return;const c=p.value,T=t.direction===e.side,N=(d.lang.rtl===!0?T!==!0:T)?j(t.distance.x,0,c):0;if(t.isFinal===!0){Math.abs(N)<Math.min(75,c)===!0?(a.animate(),M(1),z(0)):h(),R.value=!1;return}z(W.value*N),M(j(1-N/c,0,1)),t.isFirst===!0&&(R.value=!0)}function le(){S(!1),ae(!0)}function O(t,c){a.update(e.side,t,c)}function Fe(t,c){t.value!==c&&(t.value=c)}function oe(t,c){O("size",t===!0?e.miniWidth:c)}return a.instances[e.side]=D,oe(e.miniToOverlay,p.value),O("space",F.value),O("offset",Z.value),e.showIfAbove===!0&&e.modelValue!==!0&&f.value===!0&&e["onUpdate:modelValue"]!==void 0&&l("update:modelValue",!0),$e(()=>{l("on-layout",F.value),l("mini-state",w.value),B=e.showIfAbove===!0;const t=()=>{(f.value===!0?n:C)(!1,!0)};if(a.totalWidth.value!==0){he(t);return}$=m(a.totalWidth,()=>{$(),$=void 0,f.value===!1&&e.showIfAbove===!0&&i.value===!1?s(!1):t()})}),ce(()=>{$!==void 0&&$(),clearTimeout(L),f.value===!0&&le(),a.instances[e.side]===D&&(a.instances[e.side]=void 0,O("size",0),O("offset",0),O("space",!1))}),()=>{const t=[];i.value===!0&&(e.noSwipeOpen===!1&&t.push(Ae(b("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),Oe.value)),t.push(ge("div",{ref:"backdrop",class:_e.value,style:ze.value,"aria-hidden":"true",onClick:h},void 0,"backdrop",e.noSwipeBackdrop!==!0&&f.value===!0,()=>He.value)));const c=w.value===!0&&v.mini!==void 0,T=[b("div",{...u,key:""+c,class:[De.value,u.class]},c===!0?v.mini():J(v.default))];return e.elevated===!0&&f.value===!0&&T.push(b("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(ge("aside",{ref:"content",class:Me.value,style:Pe.value},T,"contentclose",e.noSwipeClose!==!0&&i.value===!0,()=>Ve.value)),b("div",{class:"q-drawer-container"},t)}}}),kt=H({name:"QPageContainer",setup(e,{slots:v}){const{proxy:{$q:l}}=A(),u=se(X,()=>{console.error("QPageContainer needs to be child of QLayout")});Ce(Ee,!0);const o=r(()=>{const d={};return u.header.space===!0&&(d.paddingTop=`${u.header.size}px`),u.right.space===!0&&(d[`padding${l.lang.rtl===!0?"Left":"Right"}`]=`${u.right.size}px`),u.footer.space===!0&&(d.paddingBottom=`${u.footer.size}px`),u.left.space===!0&&(d[`padding${l.lang.rtl===!0?"Right":"Left"}`]=`${u.left.size}px`),d});return()=>b("div",{class:"q-page-container",style:o.value},J(v.default))}});const{passive:qe}=Ue,St=["both","horizontal","vertical"];var qt=H({name:"QScrollObserver",props:{axis:{type:String,validator:e=>St.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:v}){const l={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let u=null,o,d;m(()=>e.scrollTarget,()=>{g(),S()});function y(){u!==null&&u();const L=Math.max(0,ct(o)),$=dt(o),i={top:L-l.position.top,left:$-l.position.left};if(e.axis==="vertical"&&i.top===0||e.axis==="horizontal"&&i.left===0)return;const w=Math.abs(i.top)>=Math.abs(i.left)?i.top<0?"up":"down":i.left<0?"left":"right";l.position={top:L,left:$},l.directionChanged=l.direction!==w,l.delta=i,l.directionChanged===!0&&(l.direction=w,l.inflectionPoint=l.position),v("scroll",{...l})}function S(){o=st(d,e.scrollTarget),o.addEventListener("scroll",a,qe),a(!0)}function g(){o!==void 0&&(o.removeEventListener("scroll",a,qe),o=void 0)}function a(L){if(L===!0||e.debounce===0||e.debounce==="0")y();else if(u===null){const[$,i]=e.debounce?[setTimeout(y,e.debounce),clearTimeout]:[requestAnimationFrame(y),cancelAnimationFrame];u=()=>{i($),u=null}}}const B=A();return $e(()=>{d=B.proxy.$el.parentNode,S()}),ce(()=>{u!==null&&u(),g()}),Object.assign(B.proxy,{trigger:a,getPosition:()=>l}),Ne}}),$t=H({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:v,emit:l}){const{proxy:{$q:u}}=A(),o=k(null),d=k(u.screen.height),y=k(e.container===!0?0:u.screen.width),S=k({position:0,direction:"down",inflectionPoint:0}),g=k(0),a=k(je.value===!0?0:ie()),B=r(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),L=r(()=>e.container===!1?{minHeight:u.screen.height+"px"}:null),$=r(()=>a.value!==0?{[u.lang.rtl===!0?"left":"right"]:`${a.value}px`}:null),i=r(()=>a.value!==0?{[u.lang.rtl===!0?"right":"left"]:0,[u.lang.rtl===!0?"left":"right"]:`-${a.value}px`,width:`calc(100% + ${a.value}px)`}:null);function w(s){if(e.container===!0||document.qScrollPrevented!==!0){const h={position:s.position.top,direction:s.direction,directionChanged:s.directionChanged,inflectionPoint:s.inflectionPoint.top,delta:s.delta.top};S.value=h,e.onScroll!==void 0&&l("scroll",h)}}function p(s){const{height:h,width:Q}=s;let V=!1;d.value!==h&&(V=!0,d.value=h,e.onScrollHeight!==void 0&&l("scroll-height",h),P()),y.value!==Q&&(V=!0,y.value=Q),V===!0&&e.onResize!==void 0&&l("resize",s)}function f({height:s}){g.value!==s&&(g.value=s,P())}function P(){if(e.container===!0){const s=d.value>g.value?ie():0;a.value!==s&&(a.value=s)}}let n;const C={instances:{},view:r(()=>e.view),isContainer:r(()=>e.container),rootRef:o,height:d,containerHeight:g,scrollbarWidth:a,totalWidth:r(()=>y.value+a.value),rows:r(()=>{const s=e.view.toLowerCase().split(" ");return{top:s[0].split(""),middle:s[1].split(""),bottom:s[2].split("")}}),header:U({size:0,offset:0,space:!1}),right:U({size:300,offset:0,space:!1}),footer:U({size:0,offset:0,space:!1}),left:U({size:300,offset:0,space:!1}),scroll:S,animate(){n!==void 0?clearTimeout(n):document.body.classList.add("q-body--layout-animate"),n=setTimeout(()=>{document.body.classList.remove("q-body--layout-animate"),n=void 0},155)},update(s,h,Q){C[s][h]=Q}};if(Ce(X,C),ie()>0){let Q=function(){s=null,h.classList.remove("hide-scrollbar")},V=function(){if(s===null){if(h.scrollHeight>u.screen.height)return;h.classList.add("hide-scrollbar")}else clearTimeout(s);s=setTimeout(Q,300)},D=function(_){s!==null&&_==="remove"&&(clearTimeout(s),Q()),window[`${_}EventListener`]("resize",V)},s=null;const h=document.body;m(()=>e.container!==!0?"add":"remove",D),e.container!==!0&&D("add"),Ke(()=>{D("remove")})}return()=>{const s=Ge(v.default,[b(qt,{onScroll:w}),b(re,{onResize:p})]),h=b("div",{class:B.value,style:L.value,ref:e.container===!0?void 0:o,tabindex:-1},s);return e.container===!0?b("div",{class:"q-layout-container overflow-hidden",ref:o},[b(re,{onResize:f}),b("div",{class:"absolute-full",style:$.value},[b("div",{class:"scroll",style:i.value},[h])])]):h}}});const Ct=Te({name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},link:{type:String,default:void 0},href:{type:String,default:void 0},icon:{type:String,default:""},target:{type:String,default:""}}});function Tt(e,v,l,u,o,d){return I(),K(ht,{clickable:"",tag:"a",to:e.link,href:e.href,target:e.target,exact:""},{default:x(()=>[e.icon?(I(),K(ke,{key:0,avatar:""},{default:x(()=>[q(Je,{name:e.icon},null,8,["name"])]),_:1})):Xe("",!0),q(ke,null,{default:x(()=>[q(ue,null,{default:x(()=>[G(ye(e.title),1)]),_:1}),q(ue,{caption:""},{default:x(()=>[G(ye(e.caption),1)]),_:1})]),_:1})]),_:1},8,["to","href","target"])}var xt=xe(Ct,[["render",Tt]]);const Lt=[{title:"Home",icon:"home",link:"/"},{title:"Replay Importer",caption:"Parse & import Pokemon Showdown replays",icon:"video_library",link:"/replays"},{title:"Battles",caption:"Manage & analyze saved battles",icon:"view_list",link:"/battles"},{title:"Damage Calculator",icon:"calculate",link:"/damagecalc"},{title:"Settings",icon:"settings",link:"/settings"},{title:"Source Code",caption:"https://github.com/sunoru/vgc",icon:"code",href:"https://github.com/sunoru/vgc",target:"_blank"}],_t=Te({name:"MainLayout",components:{EssentialLink:xt},setup(){const e=k(!1),v=gt(),l=k(be.useDarkMode);return v.dark.set(l.value),m(()=>l.value,u=>{be.useDarkMode=u,v.dark.set(u)}),{essentialLinks:Lt,leftDrawerOpen:e,toggleLeftDrawer(){e.value=!e.value},inDarkMode:l}}}),zt=G(" VGC Tools "),Bt=G(" Pages ");function Qt(e,v,l,u,o,d){const y=we("essential-link"),S=we("router-view");return I(),K($t,{view:"hHh Lpr lff"},{default:x(()=>[q(wt,{elevated:""},{default:x(()=>[q(bt,null,{default:x(()=>[q(pe,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),q(yt,null,{default:x(()=>[zt]),_:1}),q(at,{label:"Dark Mode",modelValue:e.inDarkMode,"onUpdate:modelValue":v[0]||(v[0]=g=>e.inDarkMode=g),color:"black"},null,8,["modelValue"]),q(pe,{flat:"",stretch:"",disable:"",icon:"login",label:"Sign in"})]),_:1})]),_:1}),q(pt,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":v[1]||(v[1]=g=>e.leftDrawerOpen=g),"show-if-above":"",elevated:""},{default:x(()=>[q(ft,null,{default:x(()=>[q(ue,{header:""},{default:x(()=>[Bt]),_:1}),(I(!0),Ye(et,null,Ze(e.essentialLinks,g=>(I(),K(y,tt({key:g.title},g),null,16))),128))]),_:1})]),_:1},8,["modelValue"]),q(kt,null,{default:x(()=>[q(S)]),_:1})]),_:1})}var It=xe(_t,[["render",Qt]]);export{It as default};
