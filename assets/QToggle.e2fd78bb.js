var Q=Object.defineProperty,D=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var C=(t,a,e)=>a in t?Q(t,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[a]=e,d=(t,a)=>{for(var e in a||(a={}))R.call(a,e)&&C(t,e,a[e]);if(I)for(var e of I(a))K.call(a,e)&&C(t,e,a[e]);return t},m=(t,a)=>D(t,L(a));import{r as q,a as n,h as s,a5 as N,L as M,b as G,a6 as H,g as J,s as S,c as U,V as W}from"./index.fca2a0f3.js";import{a as X,u as Y,c as Z,d as ee}from"./format.e8610ab1.js";function te(t,a){const e=q(null),i=n(()=>t.disable!==!0?null:s("span",{ref:e,class:"no-outline",tabindex:-1}));function c(o){const r=a.value;o!==void 0&&o.type.indexOf("key")===0?r!==null&&document.activeElement!==r&&r.contains(document.activeElement)===!0&&r.focus():e.value!==null&&(o===void 0||r!==null&&r.contains(o.target)===!0)&&e.value.focus()}return{refocusTargetEl:i,refocusTarget:c}}var le={xs:30,sm:35,md:40,lg:50,xl:60};const ae=m(d(d(d({},Y),H),Z),{modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:t=>t==="tf"||t==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]}),ne=["update:modelValue"];function oe(t,a){const{props:e,slots:i,emit:c,proxy:o}=J(),{$q:r}=o,_=X(e,r),p=q(null),{refocusTargetEl:h,refocusTarget:y}=te(e,p),$=N(e,le),f=n(()=>e.val!==void 0&&Array.isArray(e.modelValue)),b=n(()=>f.value===!0?e.modelValue.indexOf(e.val):-1),u=n(()=>f.value===!0?b.value>-1:e.modelValue===e.trueValue),g=n(()=>f.value===!0?b.value===-1:e.modelValue===e.falseValue),x=n(()=>u.value===!1&&g.value===!1),O=n(()=>e.disable===!0?-1:e.tabindex||0),T=n(()=>`q-${t} cursor-pointer no-outline row inline no-wrap items-center`+(e.disable===!0?" disabled":"")+(_.value===!0?` q-${t}--dark`:"")+(e.dense===!0?` q-${t}--dense`:"")+(e.leftLabel===!0?" reverse":"")),A=n(()=>{const l=u.value===!0?"truthy":g.value===!0?"falsy":"indet",v=e.color!==void 0&&(e.keepColor===!0||(t==="toggle"?u.value===!0:g.value!==!0))?` text-${e.color}`:"";return`q-${t}__inner relative-position non-selectable q-${t}__inner--${l}${v}`}),B=n(()=>{const l={type:"checkbox"};return e.name!==void 0&&Object.assign(l,{"^checked":u.value===!0?"checked":void 0,name:e.name,value:f.value===!0?e.val:e.trueValue}),l}),E=ee(B),P=n(()=>{const l={tabindex:O.value,role:"checkbox","aria-label":e.label,"aria-checked":x.value===!0?"mixed":u.value===!0?"true":"false"};return e.disable===!0&&(l["aria-disabled"]="true"),l});function k(l){l!==void 0&&(S(l),y(l)),e.disable!==!0&&c("update:modelValue",j(),l)}function j(){if(f.value===!0){if(u.value===!0){const l=e.modelValue.slice();return l.splice(b.value,1),l}return e.modelValue.concat([e.val])}if(u.value===!0){if(e.toggleOrder!=="ft"||e.toggleIndeterminate===!1)return e.falseValue}else if(g.value===!0){if(e.toggleOrder==="ft"||e.toggleIndeterminate===!1)return e.trueValue}else return e.toggleOrder!=="ft"?e.trueValue:e.falseValue;return e.indeterminateValue}function w(l){(l.keyCode===13||l.keyCode===32)&&S(l)}function z(l){(l.keyCode===13||l.keyCode===32)&&k(l)}const F=a(u,x);return Object.assign(o,{toggle:k}),()=>{const l=F();e.disable!==!0&&E(l,"unshift",` q-${t}__native absolute q-ma-none q-pa-none`);const v=[s("div",{class:A.value,style:$.value},l)];h.value!==null&&v.push(h.value);const V=e.label!==void 0?M(i.default,[e.label]):G(i.default);return V!==void 0&&v.push(s("div",{class:`q-${t}__label q-anchor--skip`},V)),s("div",m(d({ref:p,class:T.value},P.value),{onClick:k,onKeydown:w,onKeyup:z}),v)}}var ie=U({name:"QToggle",props:m(d({},ae),{icon:String,iconColor:String}),emits:ne,setup(t){function a(e,i){const c=n(()=>(e.value===!0?t.checkedIcon:i.value===!0?t.indeterminateIcon:t.uncheckedIcon)||t.icon),o=n(()=>e.value===!0?t.iconColor:null);return()=>[s("div",{class:"q-toggle__track"}),s("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},c.value!==void 0?[s(W,{name:c.value,color:o.value})]:void 0)]}return oe("toggle",a)}});export{ie as Q};
