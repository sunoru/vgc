import{e as Ie,r as L,a as p,o as qe,f as ht,i as jt,j as pt,ar as Nt,h as _,as as yt,T as re,a9 as zt,ah as Ut,Q as ce,x as xt,g as J,at as wt,c as ee,a7 as Me,a8 as Qt,w as G,a4 as Wt,S as me,ai as St,a3 as Ht,q as Oe,V as Kt,aj as Xt,b as ae,p as Gt,$ as Yt,a0 as Zt,a1 as Se,a2 as Ve,a5 as Je,a6 as Le,aq as Tt,au as Jt,n as je,av as en,k as Ct,aw as tn,ax as nn,H as et,af as ie,y as an,ay as tt,A as be,B as Q,z as X,ab as Re,C as M,I as oe,J as Te,K as Ce,D as nt,F as Be,az as ln,aA as _e,ae as at,ag as on,ad as lt,aB as rn,aC as un,E as sn,aD as cn}from"./index.1a6d2e54.js";import{e as $e,u as dn,a as fn,b as vn,c as mn,f as ot}from"./use-key-composition.77a17961.js";import{Q as ge,r as gn,a as it,b as bn,c as hn}from"./QTable.a357d11c.js";import{u as pn,b as yn}from"./use-form.37a744a4.js";import{u as xn,Q as rt}from"./QInput.ccb816fb.js";import{h as wn}from"./format.2a3572e1.js";import{Q as Sn}from"./QToggle.98e7b4ab.js";import{Q as Tn,g as ut,s as st,T as Cn}from"./TouchPan.32e66c9c.js";import{u as Fe}from"./QCheckbox.9aea0cf7.js";import{b as ct,u as _n,a as kn,c as qn,j as dt,Q as Ee}from"./QItemSection.50c998f3.js";import{u as Ne,a as ze}from"./use-dark.d62858bf.js";import{c as Pn}from"./selection.3092ad27.js";import{Q as An}from"./QItem.80f07ba4.js";import{_ as In}from"./PageBase.41e93fcf.js";import{s as he}from"./dialog.9062dc00.js";import"./focus-manager.387b0375.js";import"./use-checkbox.94ff15eb.js";import"./QPage.97be637e.js";let Vn=0;const _t=["click","keydown"],kt={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Vn++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function qt(e,t,n,o){const l=jt(yt,Ie);if(l===Ie)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Ie;const{proxy:a}=J(),u=L(null),v=L(null),y=L(null),x=p(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),g=p(()=>l.currentModel.value===e.name),P=p(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(g.value===!0?" q-tab--active"+(l.tabProps.value.activeClass?" "+l.tabProps.value.activeClass:"")+(l.tabProps.value.activeColor?` text-${l.tabProps.value.activeColor}`:"")+(l.tabProps.value.activeBgColor?` bg-${l.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&l.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||l.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(o!==void 0?o.linkClass.value:"")),T=p(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(l.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),b=p(()=>e.disable===!0||l.hasFocus.value===!0||g.value===!1&&l.hasActiveTab.value===!0?-1:e.tabindex||0);function V(S,k){if(k!==!0&&u.value!==null&&u.value.focus(),e.disable===!0){o!==void 0&&o.hasRouterLink.value===!0&&re(S);return}if(o===void 0){l.updateModel({name:e.name}),n("click",S);return}if(o.hasRouterLink.value===!0){const I=(h={})=>{let R;const j=h.to===void 0||wt(h.to,e.to)===!0?l.avoidRouteWatcher=$e():null;return o.navigateToRouterLink(S,{...h,returnRouterError:!0}).catch(q=>{R=q}).then(q=>{if(j===l.avoidRouteWatcher&&(l.avoidRouteWatcher=!1,R===void 0&&(q===void 0||q.message.startsWith("Avoided redundant navigation")===!0)&&l.updateModel({name:e.name})),h.returnRouterError===!0)return R!==void 0?Promise.reject(R):q})};n("click",S,I),S.defaultPrevented!==!0&&I();return}n("click",S)}function f(S){zt(S,[13,32])?V(S,!0):Ut(S)!==!0&&S.keyCode>=35&&S.keyCode<=40&&S.altKey!==!0&&S.metaKey!==!0&&l.onKbdNavigate(S.keyCode,a.$el)===!0&&re(S),n("keydown",S)}function A(){const S=l.tabProps.value.narrowIndicator,k=[],I=_("div",{ref:y,class:["q-tab__indicator",l.tabProps.value.indicatorClass]});e.icon!==void 0&&k.push(_(ce,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&k.push(_("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&k.push(e.alertIcon!==void 0?_(ce,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):_("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),S===!0&&k.push(I);const h=[_("div",{class:"q-focus-helper",tabindex:-1,ref:u}),_("div",{class:T.value},xt(t.default,k))];return S===!1&&h.push(I),h}const F={name:p(()=>e.name),rootRef:v,tabIndicatorRef:y,routeData:o};qe(()=>{l.unregisterTab(F)}),ht(()=>{l.registerTab(F)});function m(S,k){const I={ref:v,class:P.value,tabindex:b.value,role:"tab","aria-selected":g.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:V,onKeydown:f,...k};return pt(_(S,I,A()),[[Nt,x.value]])}return{renderTab:m,$tabs:l}}var ft=ee({name:"QTab",props:kt,emits:_t,setup(e,{slots:t,emit:n}){const{renderTab:o}=qt(e,t,n);return()=>o("div")}}),fe=ee({name:"QRouteTab",props:{...Me,...kt},emits:_t,setup(e,{slots:t,emit:n}){const o=Qt({useDisableForRouterLinkProps:!1}),{renderTab:l,$tabs:a}=qt(e,t,n,{exact:p(()=>e.exact),...o});return G(()=>`${e.name} | ${e.exact} | ${(o.resolvedLink.value||{}).href}`,()=>{a.verifyRouteModel()}),()=>l(o.linkTag.value,o.linkAttrs.value)}});function ve(e,t,n,o){const l=[];return e.forEach(a=>{o(a)===!0?l.push(a):t.push({failedPropValidation:n,file:a})}),l}function ke(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),re(e)}const Ln={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Rn=["rejected"];function Bn({editable:e,dnd:t,getFileInput:n,addFilesToQueue:o}){const{props:l,emit:a,proxy:u}=J(),v=L(null),y=p(()=>l.accept!==void 0?l.accept.split(",").map(m=>(m=m.trim(),m==="*"?"*/":(m.endsWith("/*")&&(m=m.slice(0,m.length-1)),m.toUpperCase()))):null),x=p(()=>parseInt(l.maxFiles,10)),g=p(()=>parseInt(l.maxTotalSize,10));function P(m){if(e.value)if(m!==Object(m)&&(m={target:null}),m.target!==null&&m.target.matches('input[type="file"]')===!0)m.clientX===0&&m.clientY===0&&Wt(m);else{const S=n();S&&S!==m.target&&S.click(m)}}function T(m){e.value&&m&&o(null,m)}function b(m,S,k,I){let h=Array.from(S||m.target.files);const R=[],j=()=>{R.length>0&&a("rejected",R)};if(l.accept!==void 0&&y.value.indexOf("*/")===-1&&(h=ve(h,R,"accept",q=>y.value.some(D=>q.type.toUpperCase().startsWith(D)||q.name.toUpperCase().endsWith(D))),h.length===0))return j();if(l.maxFileSize!==void 0){const q=parseInt(l.maxFileSize,10);if(h=ve(h,R,"max-file-size",D=>D.size<=q),h.length===0)return j()}if(l.multiple!==!0&&h.length>0&&(h=[h[0]]),h.forEach(q=>{q.__key=q.webkitRelativePath+q.lastModified+q.name+q.size}),I===!0){const q=k.map(D=>D.__key);h=ve(h,R,"duplicate",D=>q.includes(D.__key)===!1)}if(h.length===0)return j();if(l.maxTotalSize!==void 0){let q=I===!0?k.reduce((D,Y)=>D+Y.size,0):0;if(h=ve(h,R,"max-total-size",D=>(q+=D.size,q<=g.value)),h.length===0)return j()}if(typeof l.filter=="function"){const q=l.filter(h);h=ve(h,R,"filter",D=>q.includes(D))}if(l.maxFiles!==void 0){let q=I===!0?k.length:0;if(h=ve(h,R,"max-files",()=>(q++,q<=x.value)),h.length===0)return j()}if(j(),h.length>0)return h}function V(m){ke(m),t.value!==!0&&(t.value=!0)}function f(m){re(m),(m.relatedTarget!==null||me.is.safari!==!0?m.relatedTarget!==v.value:document.elementsFromPoint(m.clientX,m.clientY).includes(v.value)===!1)===!0&&(t.value=!1)}function A(m){ke(m);const S=m.dataTransfer.files;S.length>0&&o(null,S),t.value=!1}function F(m){if(t.value===!0)return _("div",{ref:v,class:`q-${m}__dnd absolute-full`,onDragenter:ke,onDragover:ke,onDragleave:f,onDrop:A})}return Object.assign(u,{pickFiles:P,addFiles:T}),{pickFiles:P,addFiles:T,onDragover:V,onDragleave:f,processFiles:b,getDndNode:F,maxFilesNumber:x,maxTotalSizeNumber:g}}var Fn=ee({name:"QFile",inheritAttrs:!1,props:{...dn,...pn,...Ln,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...fn,...Rn],setup(e,{slots:t,emit:n,attrs:o}){const{proxy:l}=J(),a=vn(),u=L(null),v=L(!1),y=yn(e),{pickFiles:x,onDragover:g,onDragleave:P,processFiles:T,getDndNode:b}=Bn({editable:a.editable,dnd:v,getFileInput:Z,addFilesToQueue:i}),V=xn(e),f=p(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),A=p(()=>ot(f.value)),F=p(()=>f.value.map(r=>r.name).join(", ")),m=p(()=>wn(f.value.reduce((r,E)=>r+E.size,0))),S=p(()=>({totalSize:m.value,filesNumber:f.value.length,maxFiles:e.maxFiles})),k=p(()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:y.value,...o,id:a.targetUid.value,disabled:a.editable.value!==!0})),I=p(()=>"q-file q-field--auto-height"+(v.value===!0?" q-file--dnd":"")),h=p(()=>e.multiple===!0&&e.append===!0);function R(r){const E=f.value.slice();E.splice(r,1),q(E)}function j(r){const E=f.value.findIndex(r);E>-1&&R(E)}function q(r){n("update:modelValue",e.multiple===!0?r:r[0])}function D(r){r.keyCode===13&&Ht(r)}function Y(r){(r.keyCode===13||r.keyCode===32)&&x(r)}function Z(){return u.value}function i(r,E){const N=T(r,E,f.value,h.value),H=Z();H!=null&&(H.value=""),N!==void 0&&((e.multiple===!0?e.modelValue&&N.every(ue=>f.value.includes(ue)):e.modelValue===N[0])||q(h.value===!0?f.value.concat(N):N))}function c(){return[_("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function s(){if(t.file!==void 0)return f.value.length===0?c():f.value.map((E,N)=>t.file({index:N,file:E,ref:this}));if(t.selected!==void 0)return f.value.length===0?c():t.selected({files:f.value,ref:this});if(e.useChips===!0)return f.value.length===0?c():f.value.map((E,N)=>_(ge,{key:"file-"+N,removable:a.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{R(N)}},()=>_("span",{class:"ellipsis",textContent:E.name})));const r=e.displayValue!==void 0?e.displayValue:F.value;return r.length>0?[_("div",{class:e.inputClass,style:e.inputStyle,textContent:r})]:c()}function w(){const r={ref:u,...k.value,...V.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:i};return e.multiple===!0&&(r.multiple=!0),_("input",r)}return Object.assign(a,{fieldClass:I,emitValue:q,hasValue:A,inputRef:u,innerValue:f,floatingLabel:p(()=>A.value===!0||ot(e.displayValue)),computedCounter:p(()=>{if(e.counterLabel!==void 0)return e.counterLabel(S.value);const r=e.maxFiles;return`${f.value.length}${r!==void 0?" / "+r:""} (${m.value})`}),getControlChild:()=>b("file"),getControl:()=>{const r={ref:a.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return a.editable.value===!0&&Object.assign(r,{onDragover:g,onDragleave:P,onKeydown:D,onKeyup:Y}),_("div",r,[w()].concat(s()))}}),Object.assign(l,{removeAtIndex:R,removeFile:j,getNativeElement:()=>u.value}),St(l,"nativeEl",()=>u.value),mn(a)}});function En(e,t,n){const o=n===!0?["left","right"]:["top","bottom"];return`absolute-${t===!0?o[0]:o[1]}${e?` text-${e}`:""}`}const Dn=["left","center","right","justify"];var On=ee({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Dn.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:t,emit:n}){const{proxy:o}=J(),{$q:l}=o,{registerTick:a}=Fe(),{registerTick:u}=Fe(),{registerTick:v}=Fe(),{registerTimeout:y,removeTimeout:x}=ct(),{registerTimeout:g,removeTimeout:P}=ct(),T=L(null),b=L(null),V=L(e.modelValue),f=L(!1),A=L(!0),F=L(!1),m=L(!1),S=p(()=>l.platform.is.desktop===!0||e.mobileArrows===!0),k=[],I=L(0),h=L(!1);let R,j,q,D=S.value===!0?Ue:Oe;const Y=p(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:En(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),Z=p(()=>{const d=I.value,C=V.value;for(let B=0;B<d;B++)if(k[B].name.value===C)return!0;return!1}),i=p(()=>`q-tabs__content--align-${f.value===!0?"left":m.value===!0?"justify":e.align}`),c=p(()=>`q-tabs row no-wrap items-center q-tabs--${f.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${S.value===!0&&e.outsideArrows===!0?"outside":"inside"}`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),s=p(()=>"q-tabs__content row no-wrap items-center self-stretch hide-scrollbar relative-position "+i.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")+(l.platform.is.mobile===!0?" scroll":"")),w=p(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),r=p(()=>e.vertical!==!0&&l.lang.rtl===!0),E=p(()=>gn===!1&&r.value===!0);G(r,D),G(()=>e.modelValue,d=>{N({name:d,setCurrent:!0,skipEmit:!0})}),G(()=>e.outsideArrows,()=>{H()}),G(S,d=>{D=d===!0?Ue:Oe,H()});function N({name:d,setCurrent:C,skipEmit:B,fromRoute:z}){V.value!==d&&(B!==!0&&e["onUpdate:modelValue"]!==void 0&&n("update:modelValue",d),(C===!0||e["onUpdate:modelValue"]===void 0)&&(It(V.value,d),V.value=d))}function H(){a(()=>{ue({width:T.value.offsetWidth,height:T.value.offsetHeight})})}function ue(d){if(w.value===void 0||b.value===null)return;const C=d[w.value.container],B=Math.min(b.value[w.value.scroll],Array.prototype.reduce.call(b.value.children,(U,$)=>U+($[w.value.content]||0),0)),z=C>0&&B>C;f.value=z,z===!0&&u(D),m.value=C<parseInt(e.breakpoint,10)}function It(d,C){const B=d!=null&&d!==""?k.find(U=>U.name.value===d):null,z=C!=null&&C!==""?k.find(U=>U.name.value===C):null;if(B&&z){const U=B.tabIndicatorRef.value,$=z.tabIndicatorRef.value;clearTimeout(R),U.style.transition="none",U.style.transform="none",$.style.transition="none",$.style.transform="none";const O=U.getBoundingClientRect(),K=$.getBoundingClientRect();$.style.transform=e.vertical===!0?`translate3d(0,${O.top-K.top}px,0) scale3d(1,${K.height?O.height/K.height:1},1)`:`translate3d(${O.left-K.left}px,0,0) scale3d(${K.width?O.width/K.width:1},1,1)`,v(()=>{R=setTimeout(()=>{$.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",$.style.transform="none"},70)})}z&&f.value===!0&&de(z.rootRef.value)}function de(d){const{left:C,width:B,top:z,height:U}=b.value.getBoundingClientRect(),$=d.getBoundingClientRect();let O=e.vertical===!0?$.top-z:$.left-C;if(O<0){b.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(O),D();return}O+=e.vertical===!0?$.height-U:$.width-B,O>0&&(b.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(O),D())}function Ue(){const d=b.value;if(d!==null){const C=d.getBoundingClientRect(),B=e.vertical===!0?d.scrollTop:Math.abs(d.scrollLeft);r.value===!0?(A.value=Math.ceil(B+C.width)<d.scrollWidth-1,F.value=B>0):(A.value=B>0,F.value=e.vertical===!0?Math.ceil(B+C.height)<d.scrollHeight:Math.ceil(B+C.width)<d.scrollWidth)}}function Qe(d){te(),j=setInterval(()=>{Rt(d)===!0&&te()},5)}function We(){Qe(E.value===!0?Number.MAX_SAFE_INTEGER:0)}function He(){Qe(E.value===!0?0:Number.MAX_SAFE_INTEGER)}function te(){clearInterval(j)}function Vt(d,C){const B=Array.prototype.filter.call(b.value.children,K=>K===C||K.matches&&K.matches(".q-tab.q-focusable")===!0),z=B.length;if(z===0)return;if(d===36)return de(B[0]),B[0].focus(),!0;if(d===35)return de(B[z-1]),B[z-1].focus(),!0;const U=d===(e.vertical===!0?38:37),$=d===(e.vertical===!0?40:39),O=U===!0?-1:$===!0?1:void 0;if(O!==void 0){const K=r.value===!0?-1:1,ne=B.indexOf(C)+O*K;return ne>=0&&ne<z&&(de(B[ne]),B[ne].focus({preventScroll:!0})),!0}}const Lt=p(()=>E.value===!0?{get:d=>Math.abs(d.scrollLeft),set:(d,C)=>{d.scrollLeft=-C}}:e.vertical===!0?{get:d=>d.scrollTop,set:(d,C)=>{d.scrollTop=C}}:{get:d=>d.scrollLeft,set:(d,C)=>{d.scrollLeft=C}});function Rt(d){const C=b.value,{get:B,set:z}=Lt.value;let U=!1,$=B(C);const O=d<$?-1:1;return $+=O*5,$<0?(U=!0,$=0):(O===-1&&$<=d||O===1&&$>=d)&&(U=!0,$=d),z(C,$),D(),U}function Ke(d,C){for(const B in d)if(d[B]!==C[B])return!1;return!0}function Bt(){let d=null,C={matchedLen:0,queryDiff:9999,hrefLen:0};const B=k.filter(O=>O.routeData!==void 0&&O.routeData.hasRouterLink.value===!0),{hash:z,query:U}=o.$route,$=Object.keys(U).length;for(const O of B){const K=O.routeData.exact.value===!0;if(O.routeData[K===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:ne,query:Pe,matched:$t,href:Mt}=O.routeData.resolvedLink.value,Ae=Object.keys(Pe).length;if(K===!0){if(ne!==z||Ae!==$||Ke(U,Pe)===!1)continue;d=O.name.value;break}if(ne!==""&&ne!==z||Ae!==0&&Ke(Pe,U)===!1)continue;const le={matchedLen:$t.length,queryDiff:$-Ae,hrefLen:Mt.length-ne.length};if(le.matchedLen>C.matchedLen){d=O.name.value,C=le;continue}else if(le.matchedLen!==C.matchedLen)continue;if(le.queryDiff<C.queryDiff)d=O.name.value,C=le;else if(le.queryDiff!==C.queryDiff)continue;le.hrefLen>C.hrefLen&&(d=O.name.value,C=le)}d===null&&k.some(O=>O.routeData===void 0&&O.name.value===V.value)===!0||N({name:d,setCurrent:!0})}function Ft(d){if(x(),h.value!==!0&&T.value!==null&&d.target&&typeof d.target.closest=="function"){const C=d.target.closest(".q-tab");C&&T.value.contains(C)===!0&&(h.value=!0,f.value===!0&&de(C))}}function Et(){y(()=>{h.value=!1},30)}function we(){Ge.avoidRouteWatcher===!1?g(Bt):P()}function Xe(){if(q===void 0){const d=G(()=>o.$route.fullPath,we);q=()=>{d(),q=void 0}}}function Dt(d){k.push(d),I.value++,H(),d.routeData===void 0||o.$route===void 0?g(()=>{if(f.value===!0){const C=V.value,B=C!=null&&C!==""?k.find(z=>z.name.value===C):null;B&&de(B.rootRef.value)}}):(Xe(),d.routeData.hasRouterLink.value===!0&&we())}function Ot(d){k.splice(k.indexOf(d),1),I.value--,H(),q!==void 0&&d.routeData!==void 0&&(k.every(C=>C.routeData===void 0)===!0&&q(),we())}const Ge={currentModel:V,tabProps:Y,hasFocus:h,hasActiveTab:Z,registerTab:Dt,unregisterTab:Ot,verifyRouteModel:we,updateModel:N,onKbdNavigate:Vt,avoidRouteWatcher:!1};Gt(yt,Ge);function Ye(){clearTimeout(R),te(),q!==void 0&&q()}let Ze;return qe(Ye),Kt(()=>{Ze=q!==void 0,Ye()}),Xt(()=>{Ze===!0&&Xe(),H()}),()=>{const d=[_(Tn,{onResize:ue}),_("div",{ref:b,class:s.value,onScroll:D},ae(t.default))];return S.value===!0&&d.push(_(ce,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(A.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||l.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:We,onTouchstartPassive:We,onMouseupPassive:te,onMouseleavePassive:te,onTouchendPassive:te}),_(ce,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(F.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||l.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:He,onTouchstartPassive:He,onMouseupPassive:te,onMouseleavePassive:te,onTouchendPassive:te})),_("div",{ref:T,class:c.value,role:"tablist",onFocusin:Ft,onFocusout:Et},d)}}});function $n(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((n,o)=>{const l=parseFloat(n);l&&(t[o]=l)}),t}var Mn=Yt({name:"touch-swipe",beforeMount(e,{value:t,arg:n,modifiers:o}){if(o.mouse!==!0&&me.has.touch!==!0)return;const l=o.mouseCapture===!0?"Capture":"",a={handler:t,sensitivity:$n(n),direction:ut(o),noop:Oe,mouseStart(u){st(u,a)&&Zt(u)&&(Se(a,"temp",[[document,"mousemove","move",`notPassive${l}`],[document,"mouseup","end","notPassiveCapture"]]),a.start(u,!0))},touchStart(u){if(st(u,a)){const v=u.target;Se(a,"temp",[[v,"touchmove","move","notPassiveCapture"],[v,"touchcancel","end","notPassiveCapture"],[v,"touchend","end","notPassiveCapture"]]),a.start(u)}},start(u,v){me.is.firefox===!0&&Ve(e,!0);const y=Je(u);a.event={x:y.left,y:y.top,time:Date.now(),mouse:v===!0,dir:!1}},move(u){if(a.event===void 0)return;if(a.event.dir!==!1){re(u);return}const v=Date.now()-a.event.time;if(v===0)return;const y=Je(u),x=y.left-a.event.x,g=Math.abs(x),P=y.top-a.event.y,T=Math.abs(P);if(a.event.mouse!==!0){if(g<a.sensitivity[1]&&T<a.sensitivity[1]){a.end(u);return}}else if(g<a.sensitivity[2]&&T<a.sensitivity[2])return;const b=g/v,V=T/v;a.direction.vertical===!0&&g<T&&g<100&&V>a.sensitivity[0]&&(a.event.dir=P<0?"up":"down"),a.direction.horizontal===!0&&g>T&&T<100&&b>a.sensitivity[0]&&(a.event.dir=x<0?"left":"right"),a.direction.up===!0&&g<T&&P<0&&g<100&&V>a.sensitivity[0]&&(a.event.dir="up"),a.direction.down===!0&&g<T&&P>0&&g<100&&V>a.sensitivity[0]&&(a.event.dir="down"),a.direction.left===!0&&g>T&&x<0&&T<100&&b>a.sensitivity[0]&&(a.event.dir="left"),a.direction.right===!0&&g>T&&x>0&&T<100&&b>a.sensitivity[0]&&(a.event.dir="right"),a.event.dir!==!1?(re(u),a.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Pn(),a.styleCleanup=f=>{a.styleCleanup=void 0,document.body.classList.remove("non-selectable");const A=()=>{document.body.classList.remove("no-pointer-events--children")};f===!0?setTimeout(A,50):A()}),a.handler({evt:u,touch:a.event.mouse!==!0,mouse:a.event.mouse,direction:a.event.dir,duration:v,distance:{x:g,y:T}})):a.end(u)},end(u){a.event!==void 0&&(Le(a,"temp"),me.is.firefox===!0&&Ve(e,!1),a.styleCleanup!==void 0&&a.styleCleanup(!0),u!==void 0&&a.event.dir!==!1&&re(u),a.event=void 0)}};if(e.__qtouchswipe=a,o.mouse===!0){const u=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";Se(a,"main",[[e,"mousedown","mouseStart",`passive${u}`]])}me.has.touch===!0&&Se(a,"main",[[e,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchswipe;n!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&n.end(),n.handler=t.value),n.direction=ut(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(Le(t,"main"),Le(t,"temp"),me.is.firefox===!0&&Ve(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchswipe)}});function jn(){const e=new Map;return{getCache:function(t,n){return e[t]===void 0?e[t]=n:e[t]},getCacheWithFn:function(t,n){return e[t]===void 0?e[t]=n():e[t]}}}const vt={setup(e,{slots:t}){return()=>_("div",{class:"q-panel scroll",role:"tabpanel"},ae(t.default))}},Nn={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},zn=["update:modelValue","beforeTransition","transition"];function Un(){const{props:e,emit:t,proxy:n}=J(),{getCacheWithFn:o}=jn();let l,a;const u=L(null),v=L(null);function y(i){const c=e.vertical===!0?"up":"left";R((n.$q.lang.rtl===!0?-1:1)*(i.direction===c?1:-1))}const x=p(()=>[[Mn,y,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),g=p(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),P=p(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),T=p(()=>`--q-transition-duration: ${e.transitionDuration}ms`),b=p(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),V=p(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),f=p(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);G(()=>e.modelValue,(i,c)=>{const s=S(i)===!0?k(i):-1;a!==!0&&h(s===-1?0:s<k(c)?-1:1),u.value!==s&&(u.value=s,t("beforeTransition",i,c),je(()=>{t("transition",i,c)}))});function A(){R(1)}function F(){R(-1)}function m(i){t("update:modelValue",i)}function S(i){return i!=null&&i!==""}function k(i){return l.findIndex(c=>c.props.name===i&&c.props.disable!==""&&c.props.disable!==!0)}function I(){return l.filter(i=>i.props.disable!==""&&i.props.disable!==!0)}function h(i){const c=i!==0&&e.animated===!0&&u.value!==-1?"q-transition--"+(i===-1?g.value:P.value):null;v.value!==c&&(v.value=c)}function R(i,c=u.value){let s=c+i;for(;s>-1&&s<l.length;){const w=l[s];if(w!==void 0&&w.props.disable!==""&&w.props.disable!==!0){h(i),a=!0,t("update:modelValue",w.props.name),setTimeout(()=>{a=!1});return}s+=i}e.infinite===!0&&l.length>0&&c!==-1&&c!==l.length&&R(i,i===-1?l.length:-1)}function j(){const i=k(e.modelValue);return u.value!==i&&(u.value=i),!0}function q(){const i=S(e.modelValue)===!0&&j()&&l[u.value];return e.keepAlive===!0?[_(en,V.value,[_(f.value===!0?o(b.value,()=>({...vt,name:b.value})):vt,{key:b.value,style:T.value},()=>i)])]:[_("div",{class:"q-panel scroll",style:T.value,key:b.value,role:"tabpanel"},[i])]}function D(){if(l.length!==0)return e.animated===!0?[_(Tt,{name:v.value},q)]:q()}function Y(i){return l=Jt(ae(i.default,[])).filter(c=>c.props!==null&&c.props.slot===void 0&&S(c.props.name)===!0),l.length}function Z(){return l}return Object.assign(n,{next:A,previous:F,goTo:m}),{panelIndex:u,panelDirectives:x,updatePanelsList:Y,updatePanelIndex:j,getPanelContent:D,getEnabledPanels:I,getPanels:Z,isValidPanelName:S,keepAliveProps:V,needsUniqueKeepAliveWrapper:f,goToPanelByOffset:R,goToPanel:m,nextPanel:A,previousPanel:F}}var Qn=ee({name:"QTabPanels",props:{...Nn,...Ne},emits:zn,setup(e,{slots:t}){const n=J(),o=ze(e,n.proxy.$q),{updatePanelsList:l,getPanelContent:a,panelDirectives:u}=Un(),v=p(()=>"q-tab-panels q-panel-parent"+(o.value===!0?" q-tab-panels--dark q-dark":""));return()=>(l(t),Ct("div",{class:v.value},a(),"pan",e.swipeable,()=>u.value))}}),Wn=ee({name:"QSplitter",props:{...Ne,modelValue:{type:Number,required:!0},reverse:Boolean,unit:{type:String,default:"%",validator:e=>["%","px"].includes(e)},limits:{type:Array,validator:e=>e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"?!1:e[0]>=0&&e[0]<=e[1]},emitImmediately:Boolean,horizontal:Boolean,disable:Boolean,beforeClass:[Array,String,Object],afterClass:[Array,String,Object],separatorClass:[Array,String,Object],separatorStyle:[Array,String,Object]},emits:["update:modelValue"],setup(e,{slots:t,emit:n}){const{proxy:{$q:o}}=J(),l=ze(e,o),a=L(null),u={before:L(null),after:L(null)},v=p(()=>`q-splitter no-wrap ${e.horizontal===!0?"q-splitter--horizontal column":"q-splitter--vertical row"} q-splitter--${e.disable===!0?"disabled":"workable"}`+(l.value===!0?" q-splitter--dark":"")),y=p(()=>e.horizontal===!0?"height":"width"),x=p(()=>e.reverse!==!0?"before":"after"),g=p(()=>e.limits!==void 0?e.limits:e.unit==="%"?[10,90]:[50,1/0]);function P(I){return(e.unit==="%"?I:Math.round(I))+e.unit}const T=p(()=>({[x.value]:{[y.value]:P(e.modelValue)}}));let b,V,f,A,F;function m(I){if(I.isFirst===!0){const R=a.value.getBoundingClientRect()[y.value];b=e.horizontal===!0?"up":"left",V=e.unit==="%"?100:R,f=Math.min(V,g.value[1],Math.max(g.value[0],e.modelValue)),A=(e.reverse!==!0?1:-1)*(e.horizontal===!0?1:o.lang.rtl===!0?-1:1)*(e.unit==="%"?R===0?0:100/R:1),a.value.classList.add("q-splitter--active");return}if(I.isFinal===!0){F!==e.modelValue&&n("update:modelValue",F),a.value.classList.remove("q-splitter--active");return}const h=f+A*(I.direction===b?-1:1)*I.distance[e.horizontal===!0?"y":"x"];F=Math.min(V,g.value[1],Math.max(g.value[0],h)),u[x.value].value.style[y.value]=P(F),e.emitImmediately===!0&&e.modelValue!==F&&n("update:modelValue",F)}const S=p(()=>[[Cn,m,void 0,{[e.horizontal===!0?"vertical":"horizontal"]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function k(I,h){I<h[0]?n("update:modelValue",h[0]):I>h[1]&&n("update:modelValue",h[1])}return G(()=>e.modelValue,I=>{k(I,g.value)}),G(()=>e.limits,()=>{je(()=>{k(e.modelValue,g.value)})}),()=>{const I=[_("div",{ref:u.before,class:["q-splitter__panel q-splitter__before"+(e.reverse===!0?" col":""),e.beforeClass],style:T.value.before},ae(t.before)),_("div",{class:["q-splitter__separator",e.separatorClass],style:e.separatorStyle,"aria-disabled":e.disable===!0?"true":void 0},[Ct("div",{class:"q-splitter__separator-area absolute-full"},ae(t.separator),"sep",e.disable!==!0,()=>S.value)]),_("div",{ref:u.after,class:["q-splitter__panel q-splitter__after"+(e.reverse===!0?"":" col"),e.afterClass],style:T.value.after},ae(t.after))];return _("div",{class:v.value,ref:a},xt(t.default,I))}}}),Hn=ee({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:t,emit:n}){let o=!1,l,a,u,v,y,x;function g(){l&&l(),l=null,o=!1,clearTimeout(u),clearTimeout(v),a!==void 0&&a.removeEventListener("transitionend",y),y=null}function P(f,A,F){f.style.overflowY="hidden",A!==void 0&&(f.style.height=`${A}px`),f.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,o=!0,l=F}function T(f,A){f.style.overflowY=null,f.style.height=null,f.style.transition=null,g(),A!==x&&n(A)}function b(f,A){let F=0;a=f,o===!0?(g(),F=f.offsetHeight===f.scrollHeight?0:void 0):x="hide",P(f,F,A),u=setTimeout(()=>{f.style.height=`${f.scrollHeight}px`,y=m=>{(Object(m)!==m||m.target===f)&&T(f,"show")},f.addEventListener("transitionend",y),v=setTimeout(y,e.duration*1.1)},100)}function V(f,A){let F;a=f,o===!0?g():(x="show",F=f.scrollHeight),P(f,F,A),u=setTimeout(()=>{f.style.height=0,y=m=>{(Object(m)!==m||m.target===f)&&T(f,"hide")},f.addEventListener("transitionend",y),v=setTimeout(y,e.duration*1.1)},100)}return qe(()=>{o===!0&&g()}),()=>_(Tt,{css:!1,appear:e.appear,onEnter:b,onLeave:V},t.default)}});const se=tn({}),Kn=Object.keys(Me);var Xn=ee({name:"QExpansionItem",props:{...Me,..._n,...Ne,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...kn,"click","afterShow","afterHide"],setup(e,{slots:t,emit:n}){const{proxy:{$q:o}}=J(),l=ze(e,o),a=L(e.modelValue!==null?e.modelValue:e.defaultOpened),u=L(null),v=$e(),{show:y,hide:x,toggle:g}=qn({showing:a});let P,T;const b=p(()=>`q-expansion-item q-item-type q-expansion-item--${a.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),V=p(()=>{if(e.contentInsetLevel===void 0)return null;const r=o.lang.rtl===!0?"Right":"Left";return{["padding"+r]:e.contentInsetLevel*56+"px"}}),f=p(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),A=p(()=>{const r={};return Kn.forEach(E=>{r[E]=e[E]}),r}),F=p(()=>f.value===!0||e.expandIconToggle!==!0),m=p(()=>e.expandedIcon!==void 0&&a.value===!0?e.expandedIcon:e.expandIcon||o.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),S=p(()=>e.disable!==!0&&(f.value===!0||e.expandIconToggle===!0)),k=p(()=>({expanded:a.value===!0,detailsId:e.targetUid,toggle:g,show:y,hide:x})),I=p(()=>{const r=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:o.lang.label[a.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":a.value===!0?"true":"false","aria-controls":v,"aria-label":r}});G(()=>e.group,r=>{T!==void 0&&T(),r!==void 0&&Y()});function h(r){f.value!==!0&&g(r),n("click",r)}function R(r){r.keyCode===13&&j(r,!0)}function j(r,E){E!==!0&&u.value!==null&&u.value.focus(),g(r),re(r)}function q(){n("afterShow")}function D(){n("afterHide")}function Y(){P===void 0&&(P=$e()),a.value===!0&&(se[e.group]=P);const r=G(a,N=>{N===!0?se[e.group]=P:se[e.group]===P&&delete se[e.group]}),E=G(()=>se[e.group],(N,H)=>{H===P&&N!==void 0&&N!==P&&x()});T=()=>{r(),E(),se[e.group]===P&&delete se[e.group],T=void 0}}function Z(){const r={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},E=[_(ce,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&a.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:m.value})];return S.value===!0&&(Object.assign(r,{tabindex:0,...I.value,onClick:j,onKeyup:R}),E.unshift(_("div",{ref:u,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),_(Ee,r,()=>E)}function i(){let r;return t.header!==void 0?r=[].concat(t.header(k.value)):(r=[_(Ee,()=>[_(dt,{lines:e.labelLines},()=>e.label||""),e.caption?_(dt,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&r[e.switchToggleSide===!0?"push":"unshift"](_(Ee,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>_(ce,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&r[e.switchToggleSide===!0?"unshift":"push"](Z()),r}function c(){const r={ref:"item",style:e.headerStyle,class:e.headerClass,dark:l.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return F.value===!0&&(r.clickable=!0,r.onClick=h,Object.assign(r,f.value===!0?A.value:I.value)),_(An,r,i)}function s(){return pt(_("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:V.value,id:v},ae(t.default)),[[nn,a.value]])}function w(){const r=[c(),_(Hn,{duration:e.duration,onShow:q,onHide:D},s)];return e.expandSeparator===!0&&r.push(_(it,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:l.value}),_(it,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:l.value})),r}return e.group!==void 0&&Y(),qe(()=>{T!==void 0&&T()}),()=>_("div",{class:b.value},[_("div",{class:"q-expansion-item__container relative-position"},w())])}}),pe=ee({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:t}){const n=J(),o=p(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return _("td",{class:o.value},ae(t.default));const l=n.vnode.key,a=(e.props.colsMap!==void 0?e.props.colsMap[l]:null)||e.props.col;if(a===void 0)return;const{row:u}=e.props;return _("td",{class:o.value+a.__tdClass(u),style:a.__tdStyle(u)},ae(t.default))}}});function xe(e,t=new WeakMap){if(Object(e)!==e)return e;if(t.has(e))return t.get(e);const n=e instanceof Date?new Date(e):e instanceof RegExp?new RegExp(e.source,e.flags):e instanceof Set?new Set:e instanceof Map?new Map:typeof e.constructor!="function"?Object.create(null):e.prototype!==void 0&&typeof e.prototype.constructor=="function"?e:new e.constructor;if(typeof e.constructor=="function"&&typeof e.valueOf=="function"){const o=e.valueOf();if(Object(o)!==o){const l=new e.constructor(o);return t.set(e,l),l}}return t.set(e,n),e instanceof Set?e.forEach(o=>{n.add(xe(o,t))}):e instanceof Map&&e.forEach((o,l)=>{n.set(l,xe(o,t))}),Object.assign(n,...Object.keys(e).map(o=>({[o]:xe(e[o],t)})))}var Gn=ee({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:n}){const{proxy:o}=J(),{$q:l}=o,a=L(null),u=L(""),v=L("");let y=!1;const x=p(()=>St({initialValue:u.value,validate:e.validate,set:g,cancel:P,updatePosition:T},"value",()=>v.value,k=>{v.value=k}));function g(){e.validate(v.value)!==!1&&(b()===!0&&(n("save",v.value,u.value),n("update:modelValue",v.value)),V())}function P(){b()===!0&&n("cancel",v.value,u.value),V()}function T(){je(()=>{a.value.updatePosition()})}function b(){return wt(v.value,u.value)===!1}function V(){y=!0,a.value.hide()}function f(){y=!1,u.value=xe(e.modelValue),v.value=xe(e.modelValue),n("beforeShow")}function A(){n("show")}function F(){y===!1&&b()===!0&&(e.autoSave===!0&&e.validate(v.value)===!0?(n("save",v.value,u.value),n("update:modelValue",v.value)):n("cancel",v.value,u.value)),n("beforeHide")}function m(){n("hide")}function S(){const k=t.default!==void 0?[].concat(t.default(x.value)):[];return e.title&&k.unshift(_("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},e.title)),e.buttons===!0&&k.push(_("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[_(et,{flat:!0,color:e.color,label:e.labelCancel||l.lang.label.cancel,onClick:P}),_(et,{flat:!0,color:e.color,label:e.labelSet||l.lang.label.set,onClick:g})])),k}return Object.assign(o,{set:g,cancel:P,show(k){a.value!==null&&a.value.show(k)},hide(k){a.value!==null&&a.value.hide(k)},updatePosition:T}),()=>{if(e.disable!==!0)return _(bn,{ref:a,class:"q-popup-edit",cover:e.cover,onBeforeShow:f,onShow:A,onBeforeHide:F,onHide:m,onEscapeKey:P},S)}}});function mt(e){setTimeout(()=>{window.URL.revokeObjectURL(e.href)},1e4),e.remove()}function gt(e,t,n={}){const{mimeType:o,byteOrderMark:l,encoding:a}=typeof n=="string"?{mimeType:n}:n,u=a!==void 0?new TextEncoder(a).encode([t]):t,v=l!==void 0?[l,u]:[u],y=new Blob(v,{type:o||"application/octet-stream"}),x=document.createElement("a");x.href=window.URL.createObjectURL(y),x.setAttribute("download",e),typeof x.download=="undefined"&&x.setAttribute("target","_blank"),x.classList.add("hidden"),x.style.position="fixed",document.body.appendChild(x);try{return x.click(),mt(x),!0}catch(g){return mt(x),g}}var Yn=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Zn(e){return typeof e=="string"&&Yn.test(e)}const W=[];for(let e=0;e<256;++e)W.push((e+256).toString(16).slice(1));function Jn(e,t=0){return(W[e[t+0]]+W[e[t+1]]+W[e[t+2]]+W[e[t+3]]+"-"+W[e[t+4]]+W[e[t+5]]+"-"+W[e[t+6]]+W[e[t+7]]+"-"+W[e[t+8]]+W[e[t+9]]+"-"+W[e[t+10]]+W[e[t+11]]+W[e[t+12]]+W[e[t+13]]+W[e[t+14]]+W[e[t+15]]).toLowerCase()}function ea(e){if(!Zn(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}function ta(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}const na="6ba7b810-9dad-11d1-80b4-00c04fd430c8",aa="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function la(e,t,n){function o(l,a,u,v){var y;if(typeof l=="string"&&(l=ta(l)),typeof a=="string"&&(a=ea(a)),((y=a)===null||y===void 0?void 0:y.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let x=new Uint8Array(16+l.length);if(x.set(a),x.set(l,a.length),x=n(x),x[6]=x[6]&15|t,x[8]=x[8]&63|128,u){v=v||0;for(let g=0;g<16;++g)u[v+g]=x[g];return u}return Jn(x)}try{o.name=e}catch{}return o.DNS=na,o.URL=aa,o}function oa(e,t,n,o){switch(e){case 0:return t&n^~t&o;case 1:return t^n^o;case 2:return t&n^t&o^n&o;case 3:return t^n^o}}function De(e,t){return e<<t|e>>>32-t}function ia(e){const t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){const u=unescape(encodeURIComponent(e));e=[];for(let v=0;v<u.length;++v)e.push(u.charCodeAt(v))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const o=e.length/4+2,l=Math.ceil(o/16),a=new Array(l);for(let u=0;u<l;++u){const v=new Uint32Array(16);for(let y=0;y<16;++y)v[y]=e[u*64+y*4]<<24|e[u*64+y*4+1]<<16|e[u*64+y*4+2]<<8|e[u*64+y*4+3];a[u]=v}a[l-1][14]=(e.length-1)*8/Math.pow(2,32),a[l-1][14]=Math.floor(a[l-1][14]),a[l-1][15]=(e.length-1)*8&4294967295;for(let u=0;u<l;++u){const v=new Uint32Array(80);for(let b=0;b<16;++b)v[b]=a[u][b];for(let b=16;b<80;++b)v[b]=De(v[b-3]^v[b-8]^v[b-14]^v[b-16],1);let y=n[0],x=n[1],g=n[2],P=n[3],T=n[4];for(let b=0;b<80;++b){const V=Math.floor(b/20),f=De(y,5)+oa(V,x,g,P)+T+t[V]+v[b]>>>0;T=P,P=g,g=De(x,30)>>>0,x=y,y=f}n[0]=n[0]+y>>>0,n[1]=n[1]+x>>>0,n[2]=n[2]+g>>>0,n[3]=n[3]+P>>>0,n[4]=n[4]+T>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}const ra=la("v5",80,ia);var ua=ra;const sa="5dc11aaf-fe4f-4848-8507-4e09f47a18a8",Pt=(e,t)=>t.map(([n,o])=>({type:e,id:ua(n,sa),name:n,code:o.toString(),isDefault:!0})),ca=Pt("filter",[["My Battles",window.vgcScripts.defaultScripts.myBattles],["My Team",window.vgcScripts.defaultScripts.myTeam],["Opponent Team",window.vgcScripts.defaultScripts.opponentTeam]]),da=Pt("analyzer",[["Sent Out Pokes of Different Teams",window.vgcScripts.defaultScripts.teamSentOut],["Sent Out Pokes of Different Restricted Pokes",window.vgcScripts.defaultScripts.restrictedSentOut]]),fa=["Mewtwo","Lugia","Ho-Oh","Kyogre","Groudon","Rayquaza","Dialga","Palkia","Giratina","Reshiram","Zekrom","Kyurem","Kyurem-Black","Kyurem-White","Xerneas","Yveltal","Zygarde","Cosmog","Cosmoem","Solgaleo","Lunala","Necrozma","Necrozma-Dawn-Wings","Necrozma-Dusk-Mane","Zacian-*","Zamazenta-*","Eternatus","Calyrex","Calyrex-Shadow","Calyrex-Ice"],At=e=>{if(!e.includes("-")||["Necrozma-","Calyrex-","Kyurem-","Ho-Oh"].some(o=>e.startsWith(o))||["-F","-Therian"].some(o=>e.endsWith(o)))return e;e.endsWith("-Gmax")&&(e=e.slice(0,-5));const[t,n]=e.split("-",2);return["Xerneas"].some(o=>o===t)?t:n?`${t}-*`:e},ye=(e,t)=>{const n=typeof t=="boolean"?t:typeof t=="string"?t===e.p2:t===ie.Player2;return{name:n?e.p2:e.p1,team:Immutable.Set((n?e.team2:e.team1).map(At)),sentOut:n?e.team2SentOut:e.team1SentOut}},bt=e=>e.userPlayer===ie.None?{name:"",team:Immutable.Set([]),sentOut:[]}:ye(e,e.userPlayer===ie.Player1);const va={class:"q-pa-md col"},ma={class:"q-mt-sm q-gutter-xs"},ga=["href"],ba={key:0},ha={key:0},pa={key:1},Da=an({__name:"BattlesPage",setup(e){const t=L(!1),n=(i,c)=>{const s=i.userPlayer===ie.None?c?ye(i,ie.Player1):ye(i,ie.Player2):c?ye(i,i.userPlayer):bt(i);return s.team.toArray().map(w=>[s.sentOut.findIndex(E=>At(E.id)===w)+1,w])},o=[{name:"time",label:"Time",field:"time",format:i=>new Date(i*1e3).toLocaleString(),sortable:!0},{name:"opponent",label:"Opponent",field:i=>i.userPlayer===ie.None?`${i.p1}, ${i.p2}`:bt(i).name},{name:"rating",label:"Rating",field:"rating",sortable:!0},{name:"result",label:"Result",field:i=>i.userPlayer===ie.None?"N/A":i.userPlayer===i.winner?"Win":"Lose"},{name:"team1",label:"Team 1",field:i=>n(i,!0)},{name:"team2",label:"Team 2",field:i=>n(i,!1)},{name:"remarks",label:"Remarks",field:"remarks",style:"text-align: left;"},{name:"tags",label:"Tags",field:"tags"}],l=o.concat([{name:"userPlayer",label:"User Player",field:i=>ye(i,i.userPlayer).name},{name:"platform",label:"Platform",field:"platform"},{name:"id",label:"ID",field:"id"}]),a=["url","log","userPlayer"],u=(i,c)=>{const s=i.name;return c.length===0?s:`${s} (${c.join(", ")})`},v=L([]),y=L([]),x=L([]),g=L(!1);ht(async()=>{const i=await tt("battles");v.value=Array.from(Object.values(i));const c=Array.from(Object.values(await tt("scripts")));y.value=[...ca,...c.filter(s=>s.type==="filter")],x.value=[...da,...c.filter(s=>s.type==="analyzer")],g.value=!0});const P=L({rowsPerPage:0}),T=L(20),b=L("filters"),V=L(""),f=L([]),A=L(),F=i=>{f.value=f.value.filter(c=>c!==i),he(`Filter "${i.script.name}" removed`)},m=()=>void(A.value=void 0),S=L(!1),k=p(()=>A.value?"Battle Analytics":`Battles (${h.value.length}/${v.value.length})`),I=i=>{if(!V.value)return i;const c=V.value.trim().toLowerCase();return c?i.filter(s=>Object.values(s).some(w=>String(w).toLowerCase().includes(c))):i},h=p(()=>{const i=f.value.reduce((s,w)=>s.filter(w.func),v.value);if(!A.value)return I(i);const c=A.value.func(i);return Array.isArray(c)?I(c):I(Object.keys(c).map(s=>({key:s,value:c[s]})))}),R=p(()=>{if(!A.value)return t.value?l:o;if(h.value.length===0)return[];const i=h.value[0];return Object.keys(i).map(c=>{if(a.includes(c))return;const s=o.findIndex(w=>w.field===c);return s>=0?o[s]:{name:c,label:c,field:c,sortable:!0}}).filter(c=>c!==void 0)}),j=L();G(()=>j.value,i=>{if(!i)return;j.value=void 0;const c=new FileReader;c.onload=async s=>{if(!s.target)return;const{result:w}=s.target;if(!w)return;const{usernames:r,scripts:E,battles:N}=JSON.parse(w),H=await at();r&&(r.forEach(ue=>{H.myUsernames.includes(ue)||H.myUsernames.push(ue)}),await on(H)),E&&await lt("scripts",E),N&&await lt("battles",N),he("Import completed"),window.location.reload()},c.readAsText(i)});const q=async()=>{const i=rn(),c={usernames:(await at()).myUsernames,scripts:await i.scripts.toArray(),battles:await i.battles.toArray()},s=JSON.stringify(c);gt("data.json",s)};function D(i,c,s){let w=c!==void 0?c(i,s):i;return w=w==null?"":String(w),w=w.split('"').join('""'),`"${w}"`}const Y=async()=>{if(!R.value)return;const i=R.value,c=[i.map(w=>D(w.label))].concat(h.value.map(w=>i.map(r=>D(typeof r.field=="function"?r.field(w):w[r.field===void 0?r.name:r.field],r.format,w)).join(","))).join(`\r
`);gt("table-export.csv",c,{mimeType:"text/csv",byteOrderMark:"\uFEFF"})!==!0&&he("Browser denied file download...","negative",{icon:"warning"})},Z=async(i,c)=>{try{await un("battles",i);const s=c?`${c.name} updated`:"Battle updated";he(s)}catch(s){console.error(s),he(`Error saving battle: ${s.message}`,"negative",{icon:"warning"})}};return(i,c)=>(X(),be(In,{class:"row items-top justify-evenly",title:"Battles (WIP)"},{default:Q(()=>[Re("div",va,[M(Xn,{class:"col",style:{width:"100%"},label:"Actions",modelValue:S.value,"onUpdate:modelValue":c[5]||(c[5]=s=>S.value=s)},{default:Q(()=>[M(Wn,{modelValue:T.value,"onUpdate:modelValue":c[4]||(c[4]=s=>T.value=s),style:{height:"748px",width:"100%"}},{before:Q(()=>[M(On,{modelValue:b.value,"onUpdate:modelValue":c[2]||(c[2]=s=>b.value=s),vertical:""},{default:Q(()=>[M(ft,{name:"filters",icon:"filter_alt",label:"Filters"}),M(ft,{name:"analytics",icon:"analytics",label:"Analytics"}),M(fe,{href:"https://github.com/sunoru/vgc/blob/main/src/utils/models.ts",icon:"source",label:"Model Reference",target:"_blank"}),M(fe,{href:"https://github.com/sunoru/vgc/blob/main/scripts/helpers.ts",icon:"help_center",label:"Helper Functions",target:"_blank"}),M(fe,{icon:"file_upload",label:"Import All Data"},{default:Q(()=>[M(Fn,{modelValue:j.value,"onUpdate:modelValue":c[0]||(c[0]=s=>j.value=s),filled:"",style:{width:"100%",position:"absolute",opacity:"0"}},null,8,["modelValue"])]),_:1}),M(fe,{icon:"file_download",label:"Export All Data",onClick:q}),M(fe,{icon:"file_download",label:"Export Table (CSV)",onClick:Y}),M(fe,null,{default:Q(()=>[M(Sn,{modelValue:t.value,"onUpdate:modelValue":c[1]||(c[1]=s=>t.value=s),disable:A.value!==void 0,label:"Extended Fields"},null,8,["modelValue","disable"])]),_:1})]),_:1},8,["modelValue"])]),after:Q(()=>[M(Qn,{modelValue:b.value,"onUpdate:modelValue":c[3]||(c[3]=s=>b.value=s),animated:"",swipeable:"",vertical:"","transition-prev":"jump-up","transition-next":"jump-up"},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),Re("div",ma,[(X(!0),oe(Ce,null,Te(f.value,(s,w)=>(X(),be(ge,{key:w,label:u(s.script,s.args),color:"primary",removable:"",onRemove:r=>F(s)},null,8,["label","onRemove"]))),128)),A.value?(X(),be(ge,{key:0,label:u(A.value.script,A.value.args),color:"green",removable:"",onRemove:m},null,8,["label"])):nt("",!0)]),M(hn,{title:_e(k),class:"battle-table q-mt-md","table-header-class":"battle-table-header",rows:_e(h),columns:_e(R),separator:"cell","row-key":"id",bordered:"","virtual-scroll":"",pagination:P.value,"onUpdate:pagination":c[8]||(c[8]=s=>P.value=s),"rows-per-page-options":[0]},{"top-right":Q(()=>[M(rt,{borderless:"",dense:"",debounce:"300",modelValue:V.value,"onUpdate:modelValue":c[6]||(c[6]=s=>V.value=s),placeholder:"Search"},{append:Q(()=>[M(ce,{name:"search"})]),_:1},8,["modelValue"])]),"body-cell-time":Q(s=>[M(pe,{props:s},{default:Q(()=>[Re("a",{style:{color:"inherit","text-decoration":"none"},href:s.row.url,target:"_blank"},Be(s.value),9,ga)]),_:2},1032,["props"])]),"body-cell-result":Q(s=>[M(pe,{props:s},{default:Q(()=>[M(ge,{color:s.value==="Win"?"light-green-8":"orange-8",label:s.value},null,8,["color","label"])]),_:2},1032,["props"])]),"body-cell-tags":Q(s=>[M(pe,{props:s},{default:Q(()=>[(X(!0),oe(Ce,null,Te(s.value,(w,r)=>(X(),be(ge,{key:r,color:"teal-8",label:w},null,8,["label"]))),128))]),_:2},1032,["props"])]),"body-cell-remarks":Q(s=>[M(pe,{props:s,style:{width:"100%","min-height":"24px"}},{default:Q(()=>[(X(!0),oe(Ce,null,Te(s.value.split(`
`),(w,r)=>(X(),oe("span",{key:r},[r>0?(X(),oe("br",ba)):nt("",!0),sn(" "+Be(w),1)]))),128)),M(Gn,{modelValue:s.row.remarks,"onUpdate:modelValue":w=>s.row.remarks=w,buttons:"",onSave:w=>Z(s.row,s.col)},{default:Q(w=>[M(rt,{type:"textarea",modelValue:w.value,"onUpdate:modelValue":r=>w.value=r,counter:"",onKeyup:c[7]||(c[7]=ln(cn(()=>{},["stop"]),["enter"]))},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])]),_:2},1032,["props"])]),"body-cell":Q(s=>[M(pe,{props:s},{default:Q(()=>[["team1","team2"].includes(s.col.name)?(X(),oe("div",ha,[(X(!0),oe(Ce,null,Te(s.value,([w,r],E)=>(X(),be(ge,{key:E,label:(w>0?w+" ":"")+r,color:w>0?_e(fa).includes(r)?"pink":"purple":""},null,8,["label","color"]))),128))])):(X(),oe("span",pa,Be(s.value),1))]),_:2},1032,["props"])]),_:1},8,["title","rows","columns","pagination"])])]),_:1}))}});export{Da as default};
