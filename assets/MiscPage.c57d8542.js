import{g,Q as V,d as k,e as q,f as C}from"./QSplitter.b5a8ec20.js";import{Q as c}from"./QInput.be03e1c0.js";import{k as m,h as f,l as v,c as Q,g as y,d as _,r as d,C as P,D as w,E as u,f as n,ag as T,L as B}from"./index.8da81563.js";import{u as U,a as j}from"./use-dark.6c12d75c.js";import{_ as $}from"./PageBase.5bcf4c39.js";import"./TouchPan.77a14b4e.js";import"./use-timeout.ccb20f64.js";import"./private.use-form.ecf39852.js";import"./QPage.b006e3b9.js";const x=async r=>{const l={};for(const{cp:e,pasteUrl:o}of r){console.log(`${e} from ${o}`);const t=await(await fetch(o.trim()+"/json")).json();for(const p of t.paste.split(`\r
\r
`)){const[b]=p.split(`\r
`),i=b.split("@")[0].trim();i&&(i in l||(l[i]=0),l[i]+=e)}}const s={};for(const e in l){const o=l[e];o in s||(s[o]=[]),s[o].push(e)}return Object.entries(s).map(([e,o])=>({cp:+e,pokes:o})).sort((e,o)=>o.cp-e.cp)};var S=m({name:"QTabPanel",props:g,setup(r,{slots:l}){return()=>f("div",{class:"q-tab-panel",role:"tabpanel"},v(l.default))}}),D=m({name:"QCard",props:{...U,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(r,{slots:l}){const{proxy:{$q:s}}=y(),e=j(r,s),o=Q(()=>"q-card"+(e.value===!0?" q-card--dark q-dark":"")+(r.bordered===!0?" q-card--bordered":"")+(r.square===!0?" q-card--square no-border-radius":"")+(r.flat===!0?" q-card--flat no-shadow":""));return()=>f(r.tag,{class:o.value},v(l.default))}});const N={class:"q-pa-md"},G=_({__name:"MiscPage",setup(r){const l=d(20),s=d(""),e=d({input:"",loading:!1,action:async()=>{e.value.loading=!0;const o=e.value.input.split(`
`).map(a=>{const[t,p]=a.split(",");return{cp:Number(t),pasteUrl:p}});try{const a=await x(o);e.value.output=a.map(t=>`${t.cp}: ${t.pokes.join(", ")}`).join(`
`)}catch(a){e.value.output=a.toString()}e.value.loading=!1},output:""});return(o,a)=>(P(),w($,{class:"row items-top justify-evenly",title:"Miscellaneous"},{default:u(()=>[n(D,{class:"col"},{default:u(()=>[n(V,{modelValue:l.value,"onUpdate:modelValue":a[4]||(a[4]=t=>l.value=t)},{before:u(()=>[n(k,{modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=t=>s.value=t),vertical:"",class:"text-teal"},{default:u(()=>[n(q,{name:"cp-tiers",icon:"list",label:"CP Tiers"})]),_:1},8,["modelValue"])]),after:u(()=>[n(C,{modelValue:s.value,"onUpdate:modelValue":a[3]||(a[3]=t=>s.value=t),animated:""},{default:u(()=>[n(S,{name:"cp-tiers"},{default:u(()=>[T("div",N,[n(c,{modelValue:e.value.input,"onUpdate:modelValue":a[1]||(a[1]=t=>e.value.input=t),filled:"",autogrow:"",label:"CSV data (format: cp,paste)"},null,8,["modelValue"]),n(B,{class:"q-mt-md",color:"primary",label:"Import All",type:"submit",onClick:e.value.action,loading:e.value.loading},null,8,["onClick","loading"]),n(c,{class:"q-mt-md",modelValue:e.value.output,"onUpdate:modelValue":a[2]||(a[2]=t=>e.value.output=t),filled:"",autogrow:"",label:"Output",readonly:""},null,8,["modelValue"])])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),_:1})]),_:1}))}});export{G as default};
