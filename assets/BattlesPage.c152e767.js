import{u as Vn,a as Pn,b as Tn,c as Gl,r as nl,Q as Bn,d as Fn,e as pl,f as En}from"./QSplitter.b5a8ec20.js";import{k as me,ad as dl,ae as On,c as f,w as J,Z as Xl,Y as Yl,v as Rn,h as d,Q as Fe,aw as An,ax as Ln,g as ge,W as Pe,r as I,a6 as We,U as $t,an as Me,a5 as dt,ay as Mn,n as Ee,u as zn,am as $n,l as ze,af as fl,t as Ce,a3 as Vl,o as It,a8 as In,V as Ct,az as Kt,a as Dn,aA as Hn,aB as jn,aC as Nn,a7 as Qn,at as al,aD as Jl,aE as st,L as ct,p as Wn,$ as Un,ao as Kn,aF as vl,a9 as Zl,ap as en,B as ml,aj as Gn,aG as Xn,ak as Yn,S as Jn,R as Pl,aH as ol,aI as Tl,aJ as Zn,aK as ea,aL as ta,d as la,J as na,C as Be,D as Gt,E as re,ag as Bl,f as ne,I as Xt,N as Ne,O as Yt,F as Jt,aM as aa,aN as oa,ah as Fl,aO as ia,aP as ua,ar as ra,G as sa,H as ca}from"./index.8da81563.js";import{u as Xe,a as Ye}from"./use-dark.6c12d75c.js";import{u as da,b as gl,c as hl,d as fa,e as bl,f as At,g as va,h as ma,r as El,i as ga,a as tn,j as Sl,k as ha,Q as Ol}from"./QInput.be03e1c0.js";import{u as ln,b as nn}from"./private.use-form.ecf39852.js";import{i as ba,g as Sa,s as an,d as on,n as Rl}from"./format.c516e0fc.js";import{Q as ya}from"./QToggle.905925ab.js";import{Q as un}from"./QItem.e81de1ef.js";import{u as yl,a as wl,b as xl,e as il,Q as Rt,f as wa,c as xa,d as Ca}from"./QItemSection.bd3fd5f3.js";import{a as ka,Q as Zt,s as Bt}from"./dialog.da3b090e.js";import{c as qa}from"./TouchPan.77a14b4e.js";import{u as rn}from"./use-timeout.ccb20f64.js";import{_ as _a}from"./PageBase.5bcf4c39.js";import"./use-checkbox.f11dd201.js";import"./QPage.b006e3b9.js";var ut=me({name:"QRouteTab",props:{...dl,...Vn},emits:Pn,setup(e,{slots:t,emit:l}){const a=On({useDisableForRouterLinkProps:!1}),{renderTab:i,$tabs:o}=Tn(e,t,l,{exact:f(()=>e.exact),...a});return J(()=>`${e.name} | ${e.exact} | ${(a.resolvedLink.value||{}).href}`,()=>{o.verifyRouteModel()}),()=>i(a.linkTag.value,a.linkAttrs.value)}});const pa={xs:8,sm:10,md:14,lg:20,xl:24};var yt=me({name:"QChip",props:{...Xe,...Xl,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:l}){const{proxy:{$q:a}}=ge(),i=Ye(e,a),o=Yl(e,pa),r=f(()=>e.selected===!0||e.icon!==void 0),s=f(()=>e.selected===!0?e.iconSelected||a.iconSet.chip.selected:e.icon),c=f(()=>e.iconRemove||a.iconSet.chip.remove),v=f(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),u=f(()=>{const y=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(y?` text-${y} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(v.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(i.value===!0?" q-chip--dark q-dark":"")}),h=f(()=>{const y=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},H={...y,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||a.lang.label.remove};return{chip:y,remove:H}});function x(y){y.keyCode===13&&b(y)}function b(y){e.disable||(l("update:selected",!e.selected),l("click",y))}function C(y){(y.keyCode===void 0||y.keyCode===13)&&(Pe(y),e.disable===!1&&(l("update:modelValue",!1),l("remove")))}function k(){const y=[];v.value===!0&&y.push(d("div",{class:"q-focus-helper"})),r.value===!0&&y.push(d(Fe,{class:"q-chip__icon q-chip__icon--left",name:s.value}));const H=e.label!==void 0?[d("div",{class:"ellipsis"},[e.label])]:void 0;return y.push(d("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},An(t.default,H))),e.iconRight&&y.push(d(Fe,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&y.push(d(Fe,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:c.value,...h.value.remove,onClick:C,onKeyup:C})),y}return()=>{if(e.modelValue===!1)return;const y={class:u.value,style:o.value};return v.value===!0&&Object.assign(y,h.value.chip,{onClick:b,onKeyup:x}),Rn("div",y,k(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Ln,e.ripple]])}}});function rt(e,t,l,a){const i=[];return e.forEach(o=>{a(o)===!0?i.push(o):t.push({failedPropValidation:l,file:o})}),i}function Ft(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),Pe(e)}const Va={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Pa=["rejected"];function Ta({editable:e,dnd:t,getFileInput:l,addFilesToQueue:a}){const{props:i,emit:o,proxy:r}=ge(),s=I(null),c=f(()=>i.accept!==void 0?i.accept.split(",").map(P=>(P=P.trim(),P==="*"?"*/":(P.endsWith("/*")&&(P=P.slice(0,P.length-1)),P.toUpperCase()))):null),v=f(()=>parseInt(i.maxFiles,10)),u=f(()=>parseInt(i.maxTotalSize,10));function h(P){if(e.value)if(P!==Object(P)&&(P={target:null}),P.target!==null&&P.target.matches('input[type="file"]')===!0)P.clientX===0&&P.clientY===0&&We(P);else{const L=l();L&&L!==P.target&&L.click(P)}}function x(P){e.value&&P&&a(null,P)}function b(P,L,B,z){let S=Array.from(L||P.target.files);const V=[],w=()=>{V.length!==0&&o("rejected",V)};if(i.accept!==void 0&&c.value.indexOf("*/")===-1&&(S=rt(S,V,"accept",_=>c.value.some(M=>_.type.toUpperCase().startsWith(M)||_.name.toUpperCase().endsWith(M))),S.length===0))return w();if(i.maxFileSize!==void 0){const _=parseInt(i.maxFileSize,10);if(S=rt(S,V,"max-file-size",M=>M.size<=_),S.length===0)return w()}if(i.multiple!==!0&&S.length!==0&&(S=[S[0]]),S.forEach(_=>{_.__key=_.webkitRelativePath+_.lastModified+_.name+_.size}),z===!0){const _=B.map(M=>M.__key);S=rt(S,V,"duplicate",M=>_.includes(M.__key)===!1)}if(S.length===0)return w();if(i.maxTotalSize!==void 0){let _=z===!0?B.reduce((M,X)=>M+X.size,0):0;if(S=rt(S,V,"max-total-size",M=>(_+=M.size,_<=u.value)),S.length===0)return w()}if(typeof i.filter=="function"){const _=i.filter(S);S=rt(S,V,"filter",M=>_.includes(M))}if(i.maxFiles!==void 0){let _=z===!0?B.length:0;if(S=rt(S,V,"max-files",()=>(_++,_<=v.value)),S.length===0)return w()}if(w(),S.length!==0)return S}function C(P){Ft(P),t.value!==!0&&(t.value=!0)}function k(P){Pe(P),(P.relatedTarget!==null||$t.is.safari!==!0?P.relatedTarget!==s.value:document.elementsFromPoint(P.clientX,P.clientY).includes(s.value)===!1)===!0&&(t.value=!1)}function y(P){Ft(P);const L=P.dataTransfer.files;L.length!==0&&a(null,L),t.value=!1}function H(P){if(t.value===!0)return d("div",{ref:s,class:`q-${P}__dnd absolute-full`,onDragenter:Ft,onDragover:Ft,onDragleave:k,onDrop:y})}return Object.assign(r,{pickFiles:h,addFiles:x}),{pickFiles:h,addFiles:x,onDragover:C,onDragleave:k,processFiles:b,getDndNode:H,maxFilesNumber:v,maxTotalSizeNumber:u}}var Ba=me({name:"QFile",inheritAttrs:!1,props:{...da,...ln,...Va,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...gl,...Pa],setup(e,{slots:t,emit:l,attrs:a}){const{proxy:i}=ge(),o=hl(),r=I(null),s=I(!1),c=nn(e),{pickFiles:v,onDragover:u,onDragleave:h,processFiles:x,getDndNode:b}=Ta({editable:o.editable,dnd:s,getFileInput:Y,addFilesToQueue:se}),C=fa(e),k=f(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),y=f(()=>At(k.value)),H=f(()=>k.value.map(q=>q.name).join(", ")),P=f(()=>ba(k.value.reduce((q,W)=>q+W.size,0))),L=f(()=>({totalSize:P.value,filesNumber:k.value.length,maxFiles:e.maxFiles})),B=f(()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:c.value,...a,id:o.targetUid.value,disabled:o.editable.value!==!0})),z=f(()=>"q-file q-field--auto-height"+(s.value===!0?" q-file--dnd":"")),S=f(()=>e.multiple===!0&&e.append===!0);function V(q){const W=k.value.slice();W.splice(q,1),_(W)}function w(q){const W=k.value.indexOf(q);W!==-1&&V(W)}function _(q){l("update:modelValue",e.multiple===!0?q:q[0])}function M(q){q.keyCode===13&&dt(q)}function X(q){(q.keyCode===13||q.keyCode===32)&&v(q)}function Y(){return r.value}function se(q,W){const U=x(q,W,k.value,S.value),de=Y();de!=null&&(de.value=""),U!==void 0&&((e.multiple===!0?e.modelValue&&U.every(g=>k.value.includes(g)):e.modelValue===U[0])||_(S.value===!0?k.value.concat(U):U))}function ce(){return[d("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function fe(){if(t.file!==void 0)return k.value.length===0?ce():k.value.map((W,U)=>t.file({index:U,file:W,ref:this}));if(t.selected!==void 0)return k.value.length===0?ce():t.selected({files:k.value,ref:this});if(e.useChips===!0)return k.value.length===0?ce():k.value.map((W,U)=>d(yt,{key:"file-"+U,removable:o.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{V(U)}},()=>d("span",{class:"ellipsis",textContent:W.name})));const q=e.displayValue!==void 0?e.displayValue:H.value;return q.length!==0?[d("div",{class:e.inputClass,style:e.inputStyle,textContent:q})]:ce()}function ie(){const q={ref:r,...B.value,...C.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:se};return e.multiple===!0&&(q.multiple=!0),d("input",q)}return Object.assign(o,{fieldClass:z,emitValue:_,hasValue:y,inputRef:r,innerValue:k,floatingLabel:f(()=>y.value===!0||At(e.displayValue)),computedCounter:f(()=>{if(e.counterLabel!==void 0)return e.counterLabel(L.value);const q=e.maxFiles;return`${k.value.length}${q!==void 0?" / "+q:""} (${P.value})`}),getControlChild:()=>b("file"),getControl:()=>{const q={ref:o.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return o.editable.value===!0&&Object.assign(q,{onDragover:u,onDragleave:h,onKeydown:M,onKeyup:X}),d("div",q,[ie()].concat(fe()))}}),Object.assign(i,{removeAtIndex:V,removeFile:w,getNativeElement:()=>r.value}),Me(i,"nativeEl",()=>r.value),bl(o)}});const Fa={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},el={xs:2,sm:4,md:8,lg:16,xl:24};var ul=me({name:"QSeparator",props:{...Xe,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=ge(),l=Ye(e,t.proxy.$q),a=f(()=>e.vertical===!0?"vertical":"horizontal"),i=f(()=>` q-separator--${a.value}`),o=f(()=>e.inset!==!1?`${i.value}-${Fa[e.inset]}`:""),r=f(()=>`q-separator${i.value}${o.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(l.value===!0?" q-separator--dark":"")),s=f(()=>{const c={};if(e.size!==void 0&&(c[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const v=e.spaced===!0?`${el.md}px`:e.spaced in el?`${el[e.spaced]}px`:e.spaced,u=e.vertical===!0?["Left","Right"]:["Top","Bottom"];c[`margin${u[0]}`]=c[`margin${u[1]}`]=v}return c});return()=>d("hr",{class:r.value,style:s.value,"aria-orientation":a.value})}});const Qe=Mn({}),Ea=Object.keys(dl);var Oa=me({name:"QExpansionItem",props:{...dl,...yl,...Xe,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...wl,"click","afterShow","afterHide"],setup(e,{slots:t,emit:l}){const{proxy:{$q:a}}=ge(),i=Ye(e,a),o=I(e.modelValue!==null?e.modelValue:e.defaultOpened),r=I(null),s=va(),{show:c,hide:v,toggle:u}=xl({showing:o});let h,x;const b=f(()=>`q-expansion-item q-item-type q-expansion-item--${o.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),C=f(()=>{if(e.contentInsetLevel===void 0)return null;const q=a.lang.rtl===!0?"Right":"Left";return{["padding"+q]:e.contentInsetLevel*56+"px"}}),k=f(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),y=f(()=>{const q={};return Ea.forEach(W=>{q[W]=e[W]}),q}),H=f(()=>k.value===!0||e.expandIconToggle!==!0),P=f(()=>e.expandedIcon!==void 0&&o.value===!0?e.expandedIcon:e.expandIcon||a.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),L=f(()=>e.disable!==!0&&(k.value===!0||e.expandIconToggle===!0)),B=f(()=>({expanded:o.value===!0,detailsId:s.value,toggle:u,show:c,hide:v})),z=f(()=>{const q=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:a.lang.label[o.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":o.value===!0?"true":"false","aria-controls":s.value,"aria-label":q}});J(()=>e.group,q=>{x!==void 0&&x(),q!==void 0&&X()});function S(q){k.value!==!0&&u(q),l("click",q)}function V(q){q.keyCode===13&&w(q,!0)}function w(q,W){W!==!0&&r.value!==null&&r.value.focus(),u(q),Pe(q)}function _(){l("afterShow")}function M(){l("afterHide")}function X(){h===void 0&&(h=ma()),o.value===!0&&(Qe[e.group]=h);const q=J(o,U=>{U===!0?Qe[e.group]=h:Qe[e.group]===h&&delete Qe[e.group]}),W=J(()=>Qe[e.group],(U,de)=>{de===h&&U!==void 0&&U!==h&&v()});x=()=>{q(),W(),Qe[e.group]===h&&delete Qe[e.group],x=void 0}}function Y(){const q={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},W=[d(Fe,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&o.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:P.value})];return L.value===!0&&(Object.assign(q,{tabindex:0,...z.value,onClick:w,onKeyup:V}),W.unshift(d("div",{ref:r,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),d(Rt,q,()=>W)}function se(){let q;return t.header!==void 0?q=[].concat(t.header(B.value)):(q=[d(Rt,()=>[d(il,{lines:e.labelLines},()=>e.label||""),e.caption?d(il,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&q[e.switchToggleSide===!0?"push":"unshift"](d(Rt,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>d(Fe,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&q[e.switchToggleSide===!0?"unshift":"push"](Y()),q}function ce(){const q={ref:"item",style:e.headerStyle,class:e.headerClass,dark:i.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return H.value===!0&&(q.clickable=!0,q.onClick=S,Object.assign(q,k.value===!0?y.value:z.value)),d(un,q,se)}function fe(){return zn(d("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:C.value,id:s.value},ze(t.default)),[[$n,o.value]])}function ie(){const q=[ce(),d(ka,{duration:e.duration,onShow:_,onHide:M},fe)];return e.expandSeparator===!0&&q.push(d(ul,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:i.value}),d(ul,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:i.value})),q}return e.group!==void 0&&X(),Ee(()=>{x!==void 0&&x()}),()=>d("div",{class:b.value},[d("div",{class:"q-expansion-item__container relative-position"},ie())])}}),ht=me({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:t}){const l=ge(),a=f(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return d("td",{class:a.value},ze(t.default));const i=l.vnode.key,o=(e.props.colsMap!==void 0?e.props.colsMap[i]:null)||e.props.col;if(o===void 0)return;const{row:r}=e.props;return d("td",{class:a.value+o.__tdClass(r),style:o.__tdStyle(r)},ze(t.default))}}});const Ra={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},Aa={...Ra,contextMenu:Boolean};function La({showing:e,avoidEmit:t,configureAnchorEl:l}){const{props:a,proxy:i,emit:o}=ge(),r=I(null);let s=null;function c(b){return r.value===null?!1:b===void 0||b.touches===void 0||b.touches.length<=1}const v={};l===void 0&&(Object.assign(v,{hide(b){i.hide(b)},toggle(b){i.toggle(b),b.qAnchorHandled=!0},toggleKey(b){fl(b,13)===!0&&v.toggle(b)},contextClick(b){i.hide(b),dt(b),Ce(()=>{i.show(b),b.qAnchorHandled=!0})},prevent:dt,mobileTouch(b){if(v.mobileCleanup(b),c(b)!==!0)return;i.hide(b),r.value.classList.add("non-selectable");const C=b.target;Vl(v,"anchor",[[C,"touchmove","mobileCleanup","passive"],[C,"touchend","mobileCleanup","passive"],[C,"touchcancel","mobileCleanup","passive"],[r.value,"contextmenu","prevent","notPassive"]]),s=setTimeout(()=>{s=null,i.show(b),b.qAnchorHandled=!0},300)},mobileCleanup(b){r.value.classList.remove("non-selectable"),s!==null&&(clearTimeout(s),s=null),e.value===!0&&b!==void 0&&qa()}}),l=function(b=a.contextMenu){if(a.noParentEvent===!0||r.value===null)return;let C;b===!0?i.$q.platform.is.mobile===!0?C=[[r.value,"touchstart","mobileTouch","passive"]]:C=[[r.value,"mousedown","hide","passive"],[r.value,"contextmenu","contextClick","notPassive"]]:C=[[r.value,"click","toggle","passive"],[r.value,"keyup","toggleKey","passive"]],Vl(v,"anchor",C)});function u(){In(v,"anchor")}function h(b){for(r.value=b;r.value.classList.contains("q-anchor--skip");)r.value=r.value.parentNode;l()}function x(){if(a.target===!1||a.target===""||i.$el.parentNode===null)r.value=null;else if(a.target===!0)h(i.$el.parentNode);else{let b=a.target;if(typeof a.target=="string")try{b=document.querySelector(a.target)}catch{b=void 0}b!=null?(r.value=b.$el||b,l()):(r.value=null,console.error(`Anchor: target "${a.target}" not found`))}}return J(()=>a.contextMenu,b=>{r.value!==null&&(u(),l(b))}),J(()=>a.target,()=>{r.value!==null&&u(),x()}),J(()=>a.noParentEvent,b=>{r.value!==null&&(b===!0?u():l())}),It(()=>{x(),t!==!0&&a.modelValue===!0&&r.value===null&&o("update:modelValue",!1)}),Ee(()=>{s!==null&&clearTimeout(s),u()}),{anchorEl:r,canShow:c,anchorEvents:v}}function Ma(e,t){const l=I(null);let a;function i(s,c){const v=`${c!==void 0?"add":"remove"}EventListener`,u=c!==void 0?c:a;s!==window&&s[v]("scroll",u,Ct.passive),window[v]("scroll",u,Ct.passive),a=c}function o(){l.value!==null&&(i(l.value),l.value=null)}const r=J(()=>e.noParentEvent,()=>{l.value!==null&&(o(),t())});return Ee(r),{localScrollTarget:l,unconfigureScrollTarget:o,changeScrollEvent:i}}const wt=[];function za(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return Kt(e)}else if(e.__qPortal===!0){const l=Kt(e);return l!==void 0&&l.$options.name==="QPopupProxy"?(e.hide(t),l):e}e=Kt(e)}while(e!=null)}const $a=me({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function Ia(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function sn(e,t,l,a){const i=I(!1),o=I(!1);let r=null;const s={},c=a==="dialog"&&Ia(e);function v(h){if(h===!0){El(s),o.value=!0;return}o.value=!1,i.value===!1&&(c===!1&&r===null&&(r=jn(!1,a)),i.value=!0,wt.push(e.proxy),ga(s))}function u(h){if(o.value=!1,h!==!0)return;El(s),i.value=!1;const x=wt.indexOf(e.proxy);x!==-1&&wt.splice(x,1),r!==null&&(Nn(r),r=null)}return Dn(()=>{u(!0)}),e.proxy.__qPortal=!0,Me(e.proxy,"contentEl",()=>t.value),{showPortal:v,hidePortal:u,portalIsActive:i,portalIsAccessible:o,renderPortal:()=>c===!0?l():i.value===!0?[d(Hn,{to:r},d($a,l))]:void 0}}const cn={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function dn(e,t=()=>{},l=()=>{}){return{transitionProps:f(()=>{const a=`q-transition--${e.transitionShow||t()}`,i=`q-transition--${e.transitionHide||l()}`;return{appear:!0,enterFromClass:`${a}-enter-from`,enterActiveClass:`${a}-enter-active`,enterToClass:`${a}-enter-to`,leaveFromClass:`${i}-leave-from`,leaveActiveClass:`${i}-leave-active`,leaveToClass:`${i}-leave-to`}}),transitionStyle:f(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}const Ue=[];let vt;function Da(e){vt=e.keyCode===27}function Ha(){vt===!0&&(vt=!1)}function ja(e){vt===!0&&(vt=!1,fl(e,27)===!0&&Ue[Ue.length-1](e))}function fn(e){window[e]("keydown",Da),window[e]("blur",Ha),window[e]("keyup",ja),vt=!1}function vn(e){$t.is.desktop===!0&&(Ue.push(e),Ue.length===1&&fn("addEventListener"))}function Lt(e){const t=Ue.indexOf(e);t!==-1&&(Ue.splice(t,1),Ue.length===0&&fn("removeEventListener"))}const Ke=[];function mn(e){Ke[Ke.length-1](e)}function gn(e){$t.is.desktop===!0&&(Ke.push(e),Ke.length===1&&document.body.addEventListener("focusin",mn))}function rl(e){const t=Ke.indexOf(e);t!==-1&&(Ke.splice(t,1),Ke.length===0&&document.body.removeEventListener("focusin",mn))}const{notPassiveCapture:Mt}=Ct,Ge=[];function zt(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let l=wt.length-1;for(;l>=0;){const a=wt[l].$;if(a.type.name==="QTooltip"){l--;continue}if(a.type.name!=="QDialog")break;if(a.props.seamless!==!0)return;l--}for(let a=Ge.length-1;a>=0;a--){const i=Ge[a];if((i.anchorEl.value===null||i.anchorEl.value.contains(t)===!1)&&(t===document.body||i.innerRef.value!==null&&i.innerRef.value.contains(t)===!1))e.qClickOutside=!0,i.onClickOutside(e);else return}}function Na(e){Ge.push(e),Ge.length===1&&(document.addEventListener("mousedown",zt,Mt),document.addEventListener("touchstart",zt,Mt))}function Al(e){const t=Ge.findIndex(l=>l===e);t!==-1&&(Ge.splice(t,1),Ge.length===0&&(document.removeEventListener("mousedown",zt,Mt),document.removeEventListener("touchstart",zt,Mt)))}let Ll,Ml;function zl(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Qa(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const sl={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{sl[`${e}#ltr`]=e,sl[`${e}#rtl`]=e});function $l(e,t){const l=e.split(" ");return{vertical:l[0],horizontal:sl[`${l[1]}#${t===!0?"rtl":"ltr"}`]}}function Wa(e,t){let{top:l,left:a,right:i,bottom:o,width:r,height:s}=e.getBoundingClientRect();return t!==void 0&&(l-=t[1],a-=t[0],o+=t[1],i+=t[0],r+=t[0],s+=t[1]),{top:l,bottom:o,height:s,left:a,right:i,width:r,middle:a+(i-a)/2,center:l+(o-l)/2}}function Ua(e,t,l){let{top:a,left:i}=e.getBoundingClientRect();return a+=t.top,i+=t.left,l!==void 0&&(a+=l[1],i+=l[0]),{top:a,bottom:a+1,height:1,left:i,right:i+1,width:1,middle:i,center:a}}function Ka(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function Il(e,t,l,a){return{top:e[l.vertical]-t[a.vertical],left:e[l.horizontal]-t[a.horizontal]}}function hn(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{hn(e,t+1)},10);return}const{targetEl:l,offset:a,anchorEl:i,anchorOrigin:o,selfOrigin:r,absoluteOffset:s,fit:c,cover:v,maxHeight:u,maxWidth:h}=e;if($t.is.ios===!0&&window.visualViewport!==void 0){const S=document.body.style,{offsetLeft:V,offsetTop:w}=window.visualViewport;V!==Ll&&(S.setProperty("--q-pe-left",V+"px"),Ll=V),w!==Ml&&(S.setProperty("--q-pe-top",w+"px"),Ml=w)}const{scrollLeft:x,scrollTop:b}=l,C=s===void 0?Wa(i,v===!0?[0,0]:a):Ua(i,s,a);Object.assign(l.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:h||"100vw",maxHeight:u||"100vh",visibility:"visible"});const{offsetWidth:k,offsetHeight:y}=l,{elWidth:H,elHeight:P}=c===!0||v===!0?{elWidth:Math.max(C.width,k),elHeight:v===!0?Math.max(C.height,y):y}:{elWidth:k,elHeight:y};let L={maxWidth:h,maxHeight:u};(c===!0||v===!0)&&(L.minWidth=C.width+"px",v===!0&&(L.minHeight=C.height+"px")),Object.assign(l.style,L);const B=Ka(H,P);let z=Il(C,B,o,r);if(s===void 0||a===void 0)tl(z,C,B,o,r);else{const{top:S,left:V}=z;tl(z,C,B,o,r);let w=!1;if(z.top!==S){w=!0;const _=2*a[1];C.center=C.top-=_,C.bottom-=_+2}if(z.left!==V){w=!0;const _=2*a[0];C.middle=C.left-=_,C.right-=_+2}w===!0&&(z=Il(C,B,o,r),tl(z,C,B,o,r))}L={top:z.top+"px",left:z.left+"px"},z.maxHeight!==void 0&&(L.maxHeight=z.maxHeight+"px",C.height>z.maxHeight&&(L.minHeight=L.maxHeight)),z.maxWidth!==void 0&&(L.maxWidth=z.maxWidth+"px",C.width>z.maxWidth&&(L.minWidth=L.maxWidth)),Object.assign(l.style,L),l.scrollTop!==b&&(l.scrollTop=b),l.scrollLeft!==x&&(l.scrollLeft=x)}function tl(e,t,l,a,i){const o=l.bottom,r=l.right,s=Sa(),c=window.innerHeight-s,v=document.body.clientWidth;if(e.top<0||e.top+o>c)if(i.vertical==="center")e.top=t[a.vertical]>c/2?Math.max(0,c-o):0,e.maxHeight=Math.min(o,c);else if(t[a.vertical]>c/2){const u=Math.min(c,a.vertical==="center"?t.center:a.vertical===i.vertical?t.bottom:t.top);e.maxHeight=Math.min(o,u),e.top=Math.max(0,u-o)}else e.top=Math.max(0,a.vertical==="center"?t.center:a.vertical===i.vertical?t.top:t.bottom),e.maxHeight=Math.min(o,c-e.top);if(e.left<0||e.left+r>v)if(e.maxWidth=Math.min(r,v),i.horizontal==="middle")e.left=t[a.horizontal]>v/2?Math.max(0,v-r):0;else if(t[a.horizontal]>v/2){const u=Math.min(v,a.horizontal==="middle"?t.middle:a.horizontal===i.horizontal?t.right:t.left);e.maxWidth=Math.min(r,u),e.left=Math.max(0,u-e.maxWidth)}else e.left=Math.max(0,a.horizontal==="middle"?t.middle:a.horizontal===i.horizontal?t.left:t.right),e.maxWidth=Math.min(r,v-e.left)}var bn=me({name:"QMenu",inheritAttrs:!1,props:{...Aa,...yl,...Xe,...cn,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:zl},self:{type:String,validator:zl},offset:{type:Array,validator:Qa},scrollTarget:an,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...wl,"click","escapeKey"],setup(e,{slots:t,emit:l,attrs:a}){let i=null,o,r,s;const c=ge(),{proxy:v}=c,{$q:u}=v,h=I(null),x=I(!1),b=f(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),C=Ye(e,u),{registerTick:k,removeTick:y}=Gl(),{registerTimeout:H}=rn(),{transitionProps:P,transitionStyle:L}=dn(e),{localScrollTarget:B,changeScrollEvent:z,unconfigureScrollTarget:S}=Ma(e,j),{anchorEl:V,canShow:w}=La({showing:x}),{hide:_}=xl({showing:x,canShow:w,handleShow:de,handleHide:g,hideOnRouteChange:b,processOnMount:!0}),{showPortal:M,hidePortal:X,renderPortal:Y}=sn(c,h,G,"menu"),se={anchorEl:V,innerRef:h,onClickOutside(p){if(e.persistent!==!0&&x.value===!0)return _(p),(p.type==="touchstart"||p.target.classList.contains("q-dialog__backdrop"))&&Pe(p),!0}},ce=f(()=>$l(e.anchor||(e.cover===!0?"center middle":"bottom start"),u.lang.rtl)),fe=f(()=>e.cover===!0?ce.value:$l(e.self||"top start",u.lang.rtl)),ie=f(()=>(e.square===!0?" q-menu--square":"")+(C.value===!0?" q-menu--dark q-dark":"")),q=f(()=>e.autoClose===!0?{onClick:K}:{}),W=f(()=>x.value===!0&&e.persistent!==!0);J(W,p=>{p===!0?(vn(F),Na(se)):(Lt(F),Al(se))});function U(){tn(()=>{let p=h.value;p&&p.contains(document.activeElement)!==!0&&(p=p.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||p.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||p.querySelector("[autofocus], [data-autofocus]")||p,p.focus({preventScroll:!0}))})}function de(p){if(i=e.noRefocus===!1?document.activeElement:null,gn(ee),M(),j(),o=void 0,p!==void 0&&(e.touchPosition||e.contextMenu)){const le=Qn(p);if(le.left!==void 0){const{top:be,left:Oe}=V.value.getBoundingClientRect();o={left:le.left-Oe,top:le.top-be}}}r===void 0&&(r=J(()=>u.screen.width+"|"+u.screen.height+"|"+e.self+"|"+e.anchor+"|"+u.lang.rtl,A)),e.noFocus!==!0&&document.activeElement.blur(),k(()=>{A(),e.noFocus!==!0&&U()}),H(()=>{u.platform.is.ios===!0&&(s=e.autoClose,h.value.click()),A(),M(!0),l("show",p)},e.transitionDuration)}function g(p){y(),X(),T(!0),i!==null&&(p===void 0||p.qClickOutside!==!0)&&(((p&&p.type.indexOf("key")===0?i.closest('[tabindex]:not([tabindex^="-"])'):void 0)||i).focus(),i=null),H(()=>{X(!0),l("hide",p)},e.transitionDuration)}function T(p){o=void 0,r!==void 0&&(r(),r=void 0),(p===!0||x.value===!0)&&(rl(ee),S(),Al(se),Lt(F)),p!==!0&&(i=null)}function j(){(V.value!==null||e.scrollTarget!==void 0)&&(B.value=on(V.value,e.scrollTarget),z(B.value,A))}function K(p){s!==!0?(za(v,p),l("click",p)):s=!1}function ee(p){W.value===!0&&e.noFocus!==!0&&Jl(h.value,p.target)!==!0&&U()}function F(p){l("escapeKey"),_(p)}function A(){hn({targetEl:h.value,offset:e.offset,anchorEl:V.value,anchorOrigin:ce.value,selfOrigin:fe.value,absoluteOffset:o,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function G(){return d(al,P.value,()=>x.value===!0?d("div",{role:"menu",...a,ref:h,tabindex:-1,class:["q-menu q-position-engine scroll"+ie.value,a.class],style:[a.style,L.value],...q.value},ze(t.default)):null)}return Ee(T),Object.assign(v,{focus:U,updatePosition:A}),Y}});function xt(e,t=new WeakMap){if(Object(e)!==e)return e;if(t.has(e))return t.get(e);const l=e instanceof Date?new Date(e):e instanceof RegExp?new RegExp(e.source,e.flags):e instanceof Set?new Set:e instanceof Map?new Map:typeof e.constructor!="function"?Object.create(null):e.prototype!==void 0&&typeof e.prototype.constructor=="function"?e:new e.constructor;if(typeof e.constructor=="function"&&typeof e.valueOf=="function"){const a=e.valueOf();if(Object(a)!==a){const i=new e.constructor(a);return t.set(e,i),i}}return t.set(e,l),e instanceof Set?e.forEach(a=>{l.add(xt(a,t))}):e instanceof Map&&e.forEach((a,i)=>{l.set(i,xt(a,t))}),Object.assign(l,...Object.keys(e).map(a=>({[a]:xt(e[a],t)})))}var Ga=me({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:l}){const{proxy:a}=ge(),{$q:i}=a,o=I(null),r=I(""),s=I("");let c=!1;const v=f(()=>Me({initialValue:r.value,validate:e.validate,set:u,cancel:h,updatePosition:x},"value",()=>s.value,B=>{s.value=B}));function u(){e.validate(s.value)!==!1&&(b()===!0&&(l("save",s.value,r.value),l("update:modelValue",s.value)),C())}function h(){b()===!0&&l("cancel",s.value,r.value),C()}function x(){Ce(()=>{o.value.updatePosition()})}function b(){return st(s.value,r.value)===!1}function C(){c=!0,o.value.hide()}function k(){c=!1,r.value=xt(e.modelValue),s.value=xt(e.modelValue),l("beforeShow")}function y(){l("show")}function H(){c===!1&&b()===!0&&(e.autoSave===!0&&e.validate(s.value)===!0?(l("save",s.value,r.value),l("update:modelValue",s.value)):l("cancel",s.value,r.value)),l("beforeHide")}function P(){l("hide")}function L(){const B=t.default!==void 0?[].concat(t.default(v.value)):[];return e.title&&B.unshift(d("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},e.title)),e.buttons===!0&&B.push(d("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[d(ct,{flat:!0,color:e.color,label:e.labelCancel||i.lang.label.cancel,onClick:h}),d(ct,{flat:!0,color:e.color,label:e.labelSet||i.lang.label.set,onClick:u})])),B}return Object.assign(a,{set:u,cancel:h,show(B){o.value!==null&&o.value.show(B)},hide(B){o.value!==null&&o.value.hide(B)},updatePosition:x}),()=>{if(e.disable!==!0)return d(bn,{ref:o,class:"q-popup-edit",cover:e.cover,onBeforeShow:k,onShow:y,onBeforeHide:H,onHide:P,onEscapeKey:h},L)}}}),Xa=me({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:t,emit:l}){const a=ge(),{proxy:{$q:i}}=a,o=r=>{l("click",r)};return()=>{if(e.props===void 0)return d("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:o},ze(t.default));let r,s;const c=a.vnode.key;if(c){if(r=e.props.colsMap[c],r===void 0)return}else r=e.props.col;if(r.sortable===!0){const u=r.align==="right"?"unshift":"push";s=Wn(t.default,[]),s[u](d(Fe,{class:r.__iconClass,name:i.iconSet.table.arrowUp}))}else s=ze(t.default);const v={class:r.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:r.headerStyle,onClick:u=>{r.sortable===!0&&e.props.sort(r),o(u)}};return d("th",v,s)}}});const Ya=["horizontal","vertical","cell","none"];var Ja=me({name:"QMarkupTable",props:{...Xe,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>Ya.includes(e)}},setup(e,{slots:t}){const l=ge(),a=Ye(e,l.proxy.$q),i=f(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(a.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>d("div",{class:i.value},[d("table",{class:"q-table"},ze(t.default))])}});function Sn(e,t){return d("div",e,[d("table",{class:"q-table"},t)])}const Te=1e3,Za=["start","center","end","start-force","center-force","end-force"],yn=Array.prototype.filter,eo=window.getComputedStyle(document.body).overflowAnchor===void 0?Un:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const l=e.children||[];yn.call(l,i=>i.dataset&&i.dataset.qVsAnchor!==void 0).forEach(i=>{delete i.dataset.qVsAnchor});const a=l[t];a&&a.dataset&&(a.dataset.qVsAnchor="")}))};function ft(e,t){return e+t}function ll(e,t,l,a,i,o,r,s){const c=e===window?document.scrollingElement||document.documentElement:e,v=i===!0?"offsetWidth":"offsetHeight",u={scrollStart:0,scrollViewSize:-r-s,scrollMaxSize:0,offsetStart:-r,offsetEnd:-s};if(i===!0?(e===window?(u.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,u.scrollViewSize+=document.documentElement.clientWidth):(u.scrollStart=c.scrollLeft,u.scrollViewSize+=c.clientWidth),u.scrollMaxSize=c.scrollWidth,o===!0&&(u.scrollStart=(nl===!0?u.scrollMaxSize-u.scrollViewSize:0)-u.scrollStart)):(e===window?(u.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,u.scrollViewSize+=document.documentElement.clientHeight):(u.scrollStart=c.scrollTop,u.scrollViewSize+=c.clientHeight),u.scrollMaxSize=c.scrollHeight),l!==null)for(let h=l.previousElementSibling;h!==null;h=h.previousElementSibling)h.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetStart+=h[v]);if(a!==null)for(let h=a.nextElementSibling;h!==null;h=h.nextElementSibling)h.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetEnd+=h[v]);if(t!==e){const h=c.getBoundingClientRect(),x=t.getBoundingClientRect();i===!0?(u.offsetStart+=x.left-h.left,u.offsetEnd-=x.width):(u.offsetStart+=x.top-h.top,u.offsetEnd-=x.height),e!==window&&(u.offsetStart+=u.scrollStart),u.offsetEnd+=u.scrollMaxSize-u.offsetStart}return u}function Dl(e,t,l,a){t==="end"&&(t=(e===window?document.body:e)[l===!0?"scrollWidth":"scrollHeight"]),e===window?l===!0?(a===!0&&(t=(nl===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):l===!0?(a===!0&&(t=(nl===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function bt(e,t,l,a){if(l>=a)return 0;const i=t.length,o=Math.floor(l/Te),r=Math.floor((a-1)/Te)+1;let s=e.slice(o,r).reduce(ft,0);return l%Te!==0&&(s-=t.slice(o*Te,l).reduce(ft,0)),a%Te!==0&&a!==i&&(s-=t.slice(a,r*Te).reduce(ft,0)),s}const wn={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},xn=Object.keys(wn),cl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...wn};function Cn({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:l,virtualScrollItemSizeComputed:a}){const i=ge(),{props:o,emit:r,proxy:s}=i,{$q:c}=s;let v,u,h,x=[],b;const C=I(0),k=I(0),y=I({}),H=I(null),P=I(null),L=I(null),B=I({from:0,to:0}),z=f(()=>o.tableColspan!==void 0?o.tableColspan:100);a===void 0&&(a=f(()=>o.virtualScrollItemSize));const S=f(()=>a.value+";"+o.virtualScrollHorizontal),V=f(()=>S.value+";"+o.virtualScrollSliceRatioBefore+";"+o.virtualScrollSliceRatioAfter);J(V,()=>{ie()}),J(S,w);function w(){fe(u,!0)}function _(g){fe(g===void 0?u:g)}function M(g,T){const j=t();if(j==null||j.nodeType===8)return;const K=ll(j,l(),H.value,P.value,o.virtualScrollHorizontal,c.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd);h!==K.scrollViewSize&&ie(K.scrollViewSize),Y(j,K,Math.min(e.value-1,Math.max(0,parseInt(g,10)||0)),0,Za.indexOf(T)!==-1?T:u!==-1&&g>u?"end":"start")}function X(){const g=t();if(g==null||g.nodeType===8)return;const T=ll(g,l(),H.value,P.value,o.virtualScrollHorizontal,c.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd),j=e.value-1,K=T.scrollMaxSize-T.offsetStart-T.offsetEnd-k.value;if(v===T.scrollStart)return;if(T.scrollMaxSize<=0){Y(g,T,0,0);return}h!==T.scrollViewSize&&ie(T.scrollViewSize),se(B.value.from);const ee=Math.floor(T.scrollMaxSize-Math.max(T.scrollViewSize,T.offsetEnd)-Math.min(b[j],T.scrollViewSize/2));if(ee>0&&Math.ceil(T.scrollStart)>=ee){Y(g,T,j,T.scrollMaxSize-T.offsetEnd-x.reduce(ft,0));return}let F=0,A=T.scrollStart-T.offsetStart,G=A;if(A<=K&&A+T.scrollViewSize>=C.value)A-=C.value,F=B.value.from,G=A;else for(let p=0;A>=x[p]&&F<j;p++)A-=x[p],F+=Te;for(;A>0&&F<j;)A-=b[F],A>-T.scrollViewSize?(F++,G=A):G=b[F]+A;Y(g,T,F,G)}function Y(g,T,j,K,ee){const F=typeof ee=="string"&&ee.indexOf("-force")!==-1,A=F===!0?ee.replace("-force",""):ee,G=A!==void 0?A:"start";let p=Math.max(0,j-y.value[G]),le=p+y.value.total;le>e.value&&(le=e.value,p=Math.max(0,le-y.value.total)),v=T.scrollStart;const be=p!==B.value.from||le!==B.value.to;if(be===!1&&A===void 0){W(j);return}const{activeElement:Oe}=document,Se=L.value;be===!0&&Se!==null&&Se!==Oe&&Se.contains(Oe)===!0&&(Se.addEventListener("focusout",ce),setTimeout(()=>{Se!==null&&Se.removeEventListener("focusout",ce)})),eo(Se,j-p);const Re=A!==void 0?b.slice(p,j).reduce(ft,0):0;if(be===!0){const ke=le>=B.value.from&&p<=B.value.to?B.value.to:le;B.value={from:p,to:ke},C.value=bt(x,b,0,p),k.value=bt(x,b,le,e.value),requestAnimationFrame(()=>{B.value.to!==le&&v===T.scrollStart&&(B.value={from:B.value.from,to:le},k.value=bt(x,b,le,e.value))})}requestAnimationFrame(()=>{if(v!==T.scrollStart)return;be===!0&&se(p);const ke=b.slice(p,j).reduce(ft,0),qe=ke+T.offsetStart+C.value,Ae=qe+b[j];let $e=qe+K;if(A!==void 0){const mt=ke-Re,Ie=T.scrollStart+mt;$e=F!==!0&&Ie<qe&&Ae<Ie+T.scrollViewSize?Ie:A==="end"?Ae-T.scrollViewSize:qe-(A==="start"?0:Math.round((T.scrollViewSize-b[j])/2))}v=$e,Dl(g,$e,o.virtualScrollHorizontal,c.lang.rtl),W(j)})}function se(g){const T=L.value;if(T){const j=yn.call(T.children,p=>p.classList&&p.classList.contains("q-virtual-scroll--skip")===!1),K=j.length,ee=o.virtualScrollHorizontal===!0?p=>p.getBoundingClientRect().width:p=>p.offsetHeight;let F=g,A,G;for(let p=0;p<K;){for(A=ee(j[p]),p++;p<K&&j[p].classList.contains("q-virtual-scroll--with-prev")===!0;)A+=ee(j[p]),p++;G=A-b[F],G!==0&&(b[F]+=G,x[Math.floor(F/Te)]+=G),F++}}}function ce(){L.value!==null&&L.value!==void 0&&L.value.focus()}function fe(g,T){const j=1*a.value;(T===!0||Array.isArray(b)===!1)&&(b=[]);const K=b.length;b.length=e.value;for(let F=e.value-1;F>=K;F--)b[F]=j;const ee=Math.floor((e.value-1)/Te);x=[];for(let F=0;F<=ee;F++){let A=0;const G=Math.min((F+1)*Te,e.value);for(let p=F*Te;p<G;p++)A+=b[p];x.push(A)}u=-1,v=void 0,C.value=bt(x,b,0,B.value.from),k.value=bt(x,b,B.value.to,e.value),g>=0?(se(B.value.from),Ce(()=>{M(g)})):U()}function ie(g){if(g===void 0&&typeof window!="undefined"){const A=t();A!=null&&A.nodeType!==8&&(g=ll(A,l(),H.value,P.value,o.virtualScrollHorizontal,c.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd).scrollViewSize)}h=g;const T=parseFloat(o.virtualScrollSliceRatioBefore)||0,j=parseFloat(o.virtualScrollSliceRatioAfter)||0,K=1+T+j,ee=g===void 0||g<=0?1:Math.ceil(g/a.value),F=Math.max(1,ee,Math.ceil((o.virtualScrollSliceSize>0?o.virtualScrollSliceSize:10)/K));y.value={total:Math.ceil(F*K),start:Math.ceil(F*T),center:Math.ceil(F*(.5+T)),end:Math.ceil(F*(1+T)),view:ee}}function q(g,T){const j=o.virtualScrollHorizontal===!0?"width":"height",K={["--q-virtual-scroll-item-"+j]:a.value+"px"};return[g==="tbody"?d(g,{class:"q-virtual-scroll__padding",key:"before",ref:H},[d("tr",[d("td",{style:{[j]:`${C.value}px`,...K},colspan:z.value})])]):d(g,{class:"q-virtual-scroll__padding",key:"before",ref:H,style:{[j]:`${C.value}px`,...K}}),d(g,{class:"q-virtual-scroll__content",key:"content",ref:L,tabindex:-1},T.flat()),g==="tbody"?d(g,{class:"q-virtual-scroll__padding",key:"after",ref:P},[d("tr",[d("td",{style:{[j]:`${k.value}px`,...K},colspan:z.value})])]):d(g,{class:"q-virtual-scroll__padding",key:"after",ref:P,style:{[j]:`${k.value}px`,...K}})]}function W(g){u!==g&&(o.onVirtualScroll!==void 0&&r("virtualScroll",{index:g,from:B.value.from,to:B.value.to-1,direction:g<u?"decrease":"increase",ref:s}),u=g)}ie();const U=Kn(X,c.platform.is.ios===!0?120:35);vl(()=>{ie()});let de=!1;return Zl(()=>{de=!0}),en(()=>{if(de!==!0)return;const g=t();v!==void 0&&g!==void 0&&g!==null&&g.nodeType!==8?Dl(g,v,o.virtualScrollHorizontal,c.lang.rtl):M(u)}),Ee(()=>{U.cancel()}),Object.assign(s,{scrollTo:M,reset:w,refresh:_}),{virtualScrollSliceRange:B,virtualScrollSliceSizeComputed:y,setVirtualScrollSize:ie,onVirtualScrollEvt:U,localResetVirtualScroll:fe,padVirtualScroll:q,scrollTo:M,reset:w,refresh:_}}const to={list:wa,table:Ja},lo=["list","table","__qtable"];var no=me({name:"QVirtualScroll",props:{...cl,type:{type:String,default:"list",validator:e=>lo.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:an},setup(e,{slots:t,attrs:l}){let a;const i=I(null),o=f(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:r,localResetVirtualScroll:s,padVirtualScroll:c,onVirtualScrollEvt:v}=Cn({virtualScrollLength:o,getVirtualScrollTarget:C,getVirtualScrollEl:b}),u=f(()=>{if(o.value===0)return[];const P=(L,B)=>({index:r.value.from+B,item:L});return e.itemsFn===void 0?e.items.slice(r.value.from,r.value.to).map(P):e.itemsFn(r.value.from,r.value.to-r.value.from).map(P)}),h=f(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),x=f(()=>e.scrollTarget!==void 0?{}:{tabindex:0});J(o,()=>{s()}),J(()=>e.scrollTarget,()=>{y(),k()});function b(){return i.value.$el||i.value}function C(){return a}function k(){a=on(b(),e.scrollTarget),a.addEventListener("scroll",v,Ct.passive)}function y(){a!==void 0&&(a.removeEventListener("scroll",v,Ct.passive),a=void 0)}function H(){let P=c(e.type==="list"?"div":"tbody",u.value.map(t.default));return t.before!==void 0&&(P=t.before().concat(P)),ml(t.after,P)}return vl(()=>{s()}),It(()=>{k()}),en(()=>{k()}),Zl(()=>{y()}),Ee(()=>{y()}),()=>{if(t.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?Sn({ref:i,class:"q-table__middle "+h.value},H()):d(to[e.type],{...l,ref:i,class:[l.class,h.value],...x.value},H)}}}),ao=me({name:"QField",inheritAttrs:!1,props:{...Sl,tag:{type:String,default:"label"}},emits:gl,setup(){return bl(hl({tagProp:!0}))}});let Et=0;const oo={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Hl={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var io=me({name:"QDialog",inheritAttrs:!1,props:{...yl,...cn,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...wl,"shake","click","escapeKey"],setup(e,{slots:t,emit:l,attrs:a}){const i=ge(),o=I(null),r=I(!1),s=I(!1);let c=null,v=null,u,h;const x=f(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:b}=Ca(),{registerTimeout:C}=rn(),{registerTick:k,removeTick:y}=Gl(),{transitionProps:H,transitionStyle:P}=dn(e,()=>Hl[e.position][0],()=>Hl[e.position][1]),L=f(()=>P.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:B,hidePortal:z,portalIsAccessible:S,renderPortal:V}=sn(i,o,ee,"dialog"),{hide:w}=xl({showing:r,hideOnRouteChange:x,handleShow:fe,handleHide:ie,processOnMount:!0}),{addToHistory:_,removeFromHistory:M}=xa(r,w,x),X=f(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${oo[e.position]}`+(s.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),Y=f(()=>r.value===!0&&e.seamless!==!0),se=f(()=>e.autoClose===!0?{onClick:T}:{}),ce=f(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${Y.value===!0?"modal":"seamless"}`,a.class]);J(()=>e.maximized,F=>{r.value===!0&&g(F)}),J(Y,F=>{b(F),F===!0?(gn(K),vn(U)):(rl(K),Lt(U))});function fe(F){_(),v=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,g(e.maximized),B(),s.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),k(q)):y(),C(()=>{if(i.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:A,bottom:G}=document.activeElement.getBoundingClientRect(),{innerHeight:p}=window,le=window.visualViewport!==void 0?window.visualViewport.height:p;A>0&&G>le/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-le,G>=p?1/0:Math.ceil(document.scrollingElement.scrollTop+G-le/2))),document.activeElement.scrollIntoView()}h=!0,o.value.click(),h=!1}B(!0),s.value=!1,l("show",F)},e.transitionDuration)}function ie(F){y(),M(),de(!0),s.value=!0,z(),v!==null&&(((F&&F.type.indexOf("key")===0?v.closest('[tabindex]:not([tabindex^="-"])'):void 0)||v).focus(),v=null),C(()=>{z(!0),s.value=!1,l("hide",F)},e.transitionDuration)}function q(F){tn(()=>{let A=o.value;if(A!==null){if(F!==void 0){const G=A.querySelector(F);if(G!==null){G.focus({preventScroll:!0});return}}A.contains(document.activeElement)!==!0&&(A=A.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||A.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||A.querySelector("[autofocus], [data-autofocus]")||A,A.focus({preventScroll:!0}))}})}function W(F){F&&typeof F.focus=="function"?F.focus({preventScroll:!0}):q(),l("shake");const A=o.value;A!==null&&(A.classList.remove("q-animate--scale"),A.classList.add("q-animate--scale"),c!==null&&clearTimeout(c),c=setTimeout(()=>{c=null,o.value!==null&&(A.classList.remove("q-animate--scale"),q())},170))}function U(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&W():(l("escapeKey"),w()))}function de(F){c!==null&&(clearTimeout(c),c=null),(F===!0||r.value===!0)&&(g(!1),e.seamless!==!0&&(b(!1),rl(K),Lt(U))),F!==!0&&(v=null)}function g(F){F===!0?u!==!0&&(Et<1&&document.body.classList.add("q-body--dialog"),Et++,u=!0):u===!0&&(Et<2&&document.body.classList.remove("q-body--dialog"),Et--,u=!1)}function T(F){h!==!0&&(w(F),l("click",F))}function j(F){e.persistent!==!0&&e.noBackdropDismiss!==!0?w(F):e.noShake!==!0&&W()}function K(F){e.allowFocusOutside!==!0&&S.value===!0&&Jl(o.value,F.target)!==!0&&q('[tabindex]:not([tabindex="-1"])')}Object.assign(i.proxy,{focus:q,shake:W,__updateRefocusTarget(F){v=F||null}}),Ee(de);function ee(){return d("div",{role:"dialog","aria-modal":Y.value===!0?"true":"false",...a,class:ce.value},[d(al,{name:"q-transition--fade",appear:!0},()=>Y.value===!0?d("div",{class:"q-dialog__backdrop fixed-full",style:L.value,"aria-hidden":"true",tabindex:-1,onClick:j}):null),d(al,H.value,()=>r.value===!0?d("div",{ref:o,class:X.value,style:P.value,tabindex:-1,...se.value},ze(t.default)):null)])}return V}});const jl=e=>["add","add-unique","toggle"].includes(e),uo=".*+?^${}()|[]\\",ro=Object.keys(Sl);var so=me({name:"QSelect",inheritAttrs:!1,props:{...cl,...ln,...Sl,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:jl},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:cl.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...gl,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:t,emit:l}){const{proxy:a}=ge(),{$q:i}=a,o=I(!1),r=I(!1),s=I(-1),c=I(""),v=I(!1),u=I(!1);let h=null,x=null,b,C,k,y=null,H,P,L,B;const z=I(null),S=I(null),V=I(null),w=I(null),_=I(null),M=nn(e),X=ha(R),Y=f(()=>Array.isArray(e.options)?e.options.length:0),se=f(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:ce,virtualScrollSliceSizeComputed:fe,localResetVirtualScroll:ie,padVirtualScroll:q,onVirtualScrollEvt:W,scrollTo:U,setVirtualScrollSize:de}=Cn({virtualScrollLength:Y,getVirtualScrollTarget:jt,getVirtualScrollEl:Pt,virtualScrollItemSizeComputed:se}),g=hl(),T=f(()=>{const n=e.mapOptions===!0&&e.multiple!==!0,O=e.modelValue!==void 0&&(e.modelValue!==null||n===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const E=e.mapOptions===!0&&b!==void 0?b:[],N=O.map(te=>Ht(te,E));return e.modelValue===null&&n===!0?N.filter(te=>te!==null):N}return O}),j=f(()=>{const n={};return ro.forEach(O=>{const E=e[O];E!==void 0&&(n[O]=E)}),n}),K=f(()=>e.optionsDark===null?g.isDark.value:e.optionsDark),ee=f(()=>At(T.value)),F=f(()=>{let n="q-field__input q-placeholder col";return e.hideSelected===!0||T.value.length===0?[n,e.inputClass]:(n+=" q-field__input--padding",e.inputClass===void 0?n:[n,e.inputClass])}),A=f(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),G=f(()=>Y.value===0),p=f(()=>T.value.map(n=>ye.value(n)).join(", ")),le=f(()=>e.displayValue!==void 0?e.displayValue:p.value),be=f(()=>e.optionsHtml===!0?()=>!0:n=>n!=null&&n.html===!0),Oe=f(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||T.value.some(be.value))),Se=f(()=>g.focused.value===!0?e.tabindex:-1),Re=f(()=>{const n={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":o.value===!0?"true":"false","aria-controls":`${g.targetUid.value}_lb`};return s.value>=0&&(n["aria-activedescendant"]=`${g.targetUid.value}_${s.value}`),n}),ke=f(()=>({id:`${g.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),qe=f(()=>T.value.map((n,O)=>({index:O,opt:n,html:be.value(n),selected:!0,removeAtIndex:Dt,toggleOption:_e,tabindex:Se.value}))),Ae=f(()=>{if(Y.value===0)return[];const{from:n,to:O}=ce.value;return e.options.slice(n,O).map((E,N)=>{const te=Le.value(E)===!0,Z=et(E)===!0,ve=n+N,ue={clickable:!0,active:Z,activeClass:Ie.value,manualFocus:!0,focused:!1,disable:te,tabindex:-1,dense:e.optionsDense,dark:K.value,role:"option","aria-selected":Z===!0?"true":"false",id:`${g.targetUid.value}_${ve}`,onClick:()=>{_e(E)}};return te!==!0&&(s.value===ve&&(ue.focused=!0),i.platform.is.desktop===!0&&(ue.onMousemove=()=>{o.value===!0&&we(ve)})),{index:ve,opt:E,html:be.value(E),label:ye.value(E),selected:ue.active,focused:ue.focused,toggleOption:_e,setOptionIndex:we,itemProps:ue}})}),$e=f(()=>e.dropdownIcon!==void 0?e.dropdownIcon:i.iconSet.arrow.dropdown),mt=f(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Ie=f(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),xe=f(()=>Ze(e.optionValue,"value")),ye=f(()=>Ze(e.optionLabel,"label")),Le=f(()=>Ze(e.optionDisable,"disable")),De=f(()=>T.value.map(n=>xe.value(n))),kt=f(()=>{const n={onInput:R,onChange:X,onKeydown:Vt,onKeyup:gt,onKeypress:He,onFocus:pt,onClick(O){C===!0&&We(O)}};return n.onCompositionstart=n.onCompositionupdate=n.onCompositionend=X,n});J(T,n=>{b=n,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&g.innerLoading.value!==!0&&(r.value!==!0&&o.value!==!0||ee.value!==!0)&&(k!==!0&&it(),(r.value===!0||o.value===!0)&&Q(""))},{immediate:!0}),J(()=>e.fillInput,it),J(o,Wt),J(Y,pn);function qt(n){return e.emitValue===!0?xe.value(n):n}function Je(n){if(n!==-1&&n<T.value.length)if(e.multiple===!0){const O=e.modelValue.slice();l("remove",{index:n,value:O.splice(n,1)[0]}),l("update:modelValue",O)}else l("update:modelValue",null)}function Dt(n){Je(n),g.focus()}function _t(n,O){const E=qt(n);if(e.multiple!==!0){e.fillInput===!0&&D(ye.value(n),!0,!0),l("update:modelValue",E);return}if(T.value.length===0){l("add",{index:0,value:E}),l("update:modelValue",e.multiple===!0?[E]:E);return}if(O===!0&&et(n)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const N=e.modelValue.slice();l("add",{index:N.length,value:E}),N.push(E),l("update:modelValue",N)}function _e(n,O){if(g.editable.value!==!0||n===void 0||Le.value(n)===!0)return;const E=xe.value(n);if(e.multiple!==!0){O!==!0&&(D(e.fillInput===!0?ye.value(n):"",!0,!0),je()),S.value!==null&&S.value.focus(),(T.value.length===0||st(xe.value(T.value[0]),E)!==!0)&&l("update:modelValue",e.emitValue===!0?E:n);return}if((C!==!0||v.value===!0)&&g.focus(),pt(),T.value.length===0){const Z=e.emitValue===!0?E:n;l("add",{index:0,value:Z}),l("update:modelValue",e.multiple===!0?[Z]:Z);return}const N=e.modelValue.slice(),te=De.value.findIndex(Z=>st(Z,E));if(te!==-1)l("remove",{index:te,value:N.splice(te,1)[0]});else{if(e.maxValues!==void 0&&N.length>=e.maxValues)return;const Z=e.emitValue===!0?E:n;l("add",{index:N.length,value:Z}),N.push(Z)}l("update:modelValue",N)}function we(n){if(i.platform.is.desktop!==!0)return;const O=n!==-1&&n<Y.value?n:-1;s.value!==O&&(s.value=O)}function pe(n=1,O){if(o.value===!0){let E=s.value;do E=Rl(E+n,-1,Y.value-1);while(E!==-1&&E!==s.value&&Le.value(e.options[E])===!0);s.value!==E&&(we(E),U(E),O!==!0&&e.useInput===!0&&e.fillInput===!0&&$(E>=0?ye.value(e.options[E]):H,!0))}}function Ht(n,O){const E=N=>st(xe.value(N),n);return e.options.find(E)||O.find(E)||n}function Ze(n,O){const E=n!==void 0?n:O;return typeof E=="function"?E:N=>N!==null&&typeof N=="object"&&E in N?N[E]:N}function et(n){const O=xe.value(n);return De.value.find(E=>st(E,O))!==void 0}function pt(n){e.useInput===!0&&S.value!==null&&(n===void 0||S.value===n.target&&n.target.value===p.value)&&S.value.select()}function tt(n){fl(n,27)===!0&&o.value===!0&&(We(n),je(),it()),l("keyup",n)}function gt(n){const{value:O}=n.target;if(n.keyCode!==void 0){tt(n);return}if(n.target.value="",h!==null&&(clearTimeout(h),h=null),x!==null&&(clearTimeout(x),x=null),it(),typeof O=="string"&&O.length!==0){const E=O.toLocaleLowerCase(),N=Z=>{const ve=e.options.find(ue=>Z.value(ue).toLocaleLowerCase()===E);return ve===void 0?!1:(T.value.indexOf(ve)===-1?_e(ve):je(),!0)},te=Z=>{N(xe)!==!0&&(N(ye)===!0||Z===!0||Q(O,!0,()=>te(!0)))};te()}else g.clearValue(n)}function He(n){l("keypress",n)}function Vt(n){if(l("keydown",n),Yn(n)===!0)return;const O=c.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),E=n.shiftKey!==!0&&e.multiple!==!0&&(s.value!==-1||O===!0);if(n.keyCode===27){dt(n);return}if(n.keyCode===9&&E===!1){at();return}if(n.target===void 0||n.target.id!==g.targetUid.value||g.editable.value!==!0)return;if(n.keyCode===40&&g.innerLoading.value!==!0&&o.value===!1){Pe(n),ot();return}if(n.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&c.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Je(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&l("update:modelValue",null);return}(n.keyCode===35||n.keyCode===36)&&(typeof c.value!="string"||c.value.length===0)&&(Pe(n),s.value=-1,pe(n.keyCode===36?1:-1,e.multiple)),(n.keyCode===33||n.keyCode===34)&&fe.value!==void 0&&(Pe(n),s.value=Math.max(-1,Math.min(Y.value,s.value+(n.keyCode===33?-1:1)*fe.value.view)),pe(n.keyCode===33?1:-1,e.multiple)),(n.keyCode===38||n.keyCode===40)&&(Pe(n),pe(n.keyCode===38?-1:1,e.multiple));const N=Y.value;if((L===void 0||B<Date.now())&&(L=""),N>0&&e.useInput!==!0&&n.key!==void 0&&n.key.length===1&&n.altKey===!1&&n.ctrlKey===!1&&n.metaKey===!1&&(n.keyCode!==32||L.length!==0)){o.value!==!0&&ot(n);const te=n.key.toLocaleLowerCase(),Z=L.length===1&&L[0]===te;B=Date.now()+1500,Z===!1&&(Pe(n),L+=te);const ve=new RegExp("^"+L.split("").map(Ut=>uo.indexOf(Ut)!==-1?"\\"+Ut:Ut).join(".*"),"i");let ue=s.value;if(Z===!0||ue<0||ve.test(ye.value(e.options[ue]))!==!0)do ue=Rl(ue+1,-1,N-1);while(ue!==s.value&&(Le.value(e.options[ue])===!0||ve.test(ye.value(e.options[ue]))!==!0));s.value!==ue&&Ce(()=>{we(ue),U(ue),ue>=0&&e.useInput===!0&&e.fillInput===!0&&$(ye.value(e.options[ue]),!0)});return}if(!(n.keyCode!==13&&(n.keyCode!==32||e.useInput===!0||L!=="")&&(n.keyCode!==9||E===!1))){if(n.keyCode!==9&&Pe(n),s.value!==-1&&s.value<N){_e(e.options[s.value]);return}if(O===!0){const te=(Z,ve)=>{if(ve){if(jl(ve)!==!0)return}else ve=e.newValueMode;if(D("",e.multiple!==!0,!0),Z==null)return;(ve==="toggle"?_e:_t)(Z,ve==="add-unique"),e.multiple!==!0&&(S.value!==null&&S.value.focus(),je())};if(e.onNewValue!==void 0?l("newValue",c.value,te):te(c.value),e.multiple!==!0)return}o.value===!0?at():g.innerLoading.value!==!0&&ot()}}function Pt(){return C===!0?_.value:V.value!==null&&V.value.contentEl!==null?V.value.contentEl:void 0}function jt(){return Pt()}function Nt(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?qe.value.map(n=>t["selected-item"](n)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?qe.value.map((n,O)=>d(yt,{key:"option-"+O,removable:g.editable.value===!0&&Le.value(n.opt)!==!0,dense:!0,textColor:e.color,tabindex:Se.value,onRemove(){n.removeAtIndex(O)}},()=>d("span",{class:"ellipsis",[n.html===!0?"innerHTML":"textContent"]:ye.value(n.opt)}))):[d("span",{[Oe.value===!0?"innerHTML":"textContent"]:le.value})]}function Tt(){if(G.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:c.value}):void 0;const n=t.option!==void 0?t.option:E=>d(un,{key:E.index,...E.itemProps},()=>d(Rt,()=>d(il,()=>d("span",{[E.html===!0?"innerHTML":"textContent"]:E.label}))));let O=q("div",Ae.value.map(n));return t["before-options"]!==void 0&&(O=t["before-options"]().concat(O)),ml(t["after-options"],O)}function m(n,O){const E=O===!0?{...Re.value,...g.splitAttrs.attributes.value}:void 0,N={ref:O===!0?S:void 0,key:"i_t",class:F.value,style:e.inputStyle,value:c.value!==void 0?c.value:"",type:"search",...E,id:O===!0?g.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":n===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...kt.value};return n!==!0&&C===!0&&(Array.isArray(N.class)===!0?N.class=[...N.class,"no-pointer-events"]:N.class+=" no-pointer-events"),d("input",N)}function R(n){h!==null&&(clearTimeout(h),h=null),x!==null&&(clearTimeout(x),x=null),!(n&&n.target&&n.target.qComposing===!0)&&($(n.target.value||""),k=!0,H=c.value,g.focused.value!==!0&&(C!==!0||v.value===!0)&&g.focus(),e.onFilter!==void 0&&(h=setTimeout(()=>{h=null,Q(c.value)},e.inputDebounce)))}function $(n,O){c.value!==n&&(c.value=n,O===!0||e.inputDebounce===0||e.inputDebounce==="0"?l("inputValue",n):x=setTimeout(()=>{x=null,l("inputValue",n)},e.inputDebounce))}function D(n,O,E){k=E!==!0,e.useInput===!0&&($(n,!0),(O===!0||E!==!0)&&(H=n),O!==!0&&Q(n))}function Q(n,O,E){if(e.onFilter===void 0||O!==!0&&g.focused.value!==!0)return;g.innerLoading.value===!0?l("filterAbort"):(g.innerLoading.value=!0,u.value=!0),n!==""&&e.multiple!==!0&&T.value.length!==0&&k!==!0&&n===ye.value(T.value[0])&&(n="");const N=setTimeout(()=>{o.value===!0&&(o.value=!1)},10);y!==null&&clearTimeout(y),y=N,l("filter",n,(te,Z)=>{(O===!0||g.focused.value===!0)&&y===N&&(clearTimeout(y),typeof te=="function"&&te(),u.value=!1,Ce(()=>{g.innerLoading.value=!1,g.editable.value===!0&&(O===!0?o.value===!0&&je():o.value===!0?Wt(!0):o.value=!0),typeof Z=="function"&&Ce(()=>{Z(a)}),typeof E=="function"&&Ce(()=>{E(a)})}))},()=>{g.focused.value===!0&&y===N&&(clearTimeout(y),g.innerLoading.value=!1,u.value=!1),o.value===!0&&(o.value=!1)})}function oe(){return d(bn,{ref:V,class:A.value,style:e.popupContentStyle,modelValue:o.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&G.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:K.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:mt.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...ke.value,onScrollPassive:W,onBeforeShow:kl,onBeforeHide:ae,onShow:Ve},Tt)}function ae(n){ql(n),at()}function Ve(){de()}function he(n){We(n),S.value!==null&&S.value.focus(),v.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function lt(n){We(n),Ce(()=>{v.value=!1})}function nt(){const n=[d(ao,{class:`col-auto ${g.fieldClass.value}`,...j.value,for:g.targetUid.value,dark:K.value,square:!0,loading:u.value,itemAligned:!1,filled:!0,stackLabel:c.value.length!==0,...g.splitAttrs.listeners.value,onFocus:he,onBlur:lt},{...t,rawControl:()=>g.getControl(!0),before:void 0,after:void 0})];return o.value===!0&&n.push(d("div",{ref:_,class:A.value+" scroll",style:e.popupContentStyle,...ke.value,onClick:dt,onScrollPassive:W},Tt())),d(io,{ref:w,modelValue:r.value,position:e.useInput===!0?"top":void 0,transitionShow:P,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:kl,onBeforeHide:Qt,onHide:qn,onShow:_n},()=>d("div",{class:"q-select__dialog"+(K.value===!0?" q-select__dialog--dark q-dark":"")+(v.value===!0?" q-select__dialog--focused":"")},n))}function Qt(n){ql(n),w.value!==null&&w.value.__updateRefocusTarget(g.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),g.focused.value=!1}function qn(n){je(),g.focused.value===!1&&l("blur",n),it()}function _n(){const n=document.activeElement;(n===null||n.id!==g.targetUid.value)&&S.value!==null&&S.value!==n&&S.value.focus(),de()}function at(){r.value!==!0&&(s.value=-1,o.value===!0&&(o.value=!1),g.focused.value===!1&&(y!==null&&(clearTimeout(y),y=null),g.innerLoading.value===!0&&(l("filterAbort"),g.innerLoading.value=!1,u.value=!1)))}function ot(n){g.editable.value===!0&&(C===!0?(g.onControlFocusin(n),r.value=!0,Ce(()=>{g.focus()})):g.focus(),e.onFilter!==void 0?Q(c.value):(G.value!==!0||t["no-option"]!==void 0)&&(o.value=!0))}function je(){r.value=!1,at()}function it(){e.useInput===!0&&D(e.multiple!==!0&&e.fillInput===!0&&T.value.length!==0&&ye.value(T.value[0])||"",!0,!0)}function Wt(n){let O=-1;if(n===!0){if(T.value.length!==0){const E=xe.value(T.value[0]);O=e.options.findIndex(N=>st(xe.value(N),E))}ie(O)}we(O)}function pn(n,O){o.value===!0&&g.innerLoading.value===!1&&(ie(-1,!0),Ce(()=>{o.value===!0&&g.innerLoading.value===!1&&(n>O?ie():Wt(!0))}))}function Cl(){r.value===!1&&V.value!==null&&V.value.updatePosition()}function kl(n){n!==void 0&&We(n),l("popupShow",n),g.hasPopupOpen=!0,g.onControlFocusin(n)}function ql(n){n!==void 0&&We(n),l("popupHide",n),g.hasPopupOpen=!1,g.onControlFocusout(n)}function _l(){C=i.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||G.value===!1:!0),P=i.platform.is.ios===!0&&C===!0&&e.useInput===!0?"fade":e.transitionShow}return Gn(_l),Xn(Cl),_l(),Ee(()=>{h!==null&&clearTimeout(h),x!==null&&clearTimeout(x)}),Object.assign(a,{showPopup:ot,hidePopup:je,removeAtIndex:Je,add:_t,toggleOption:_e,getOptionIndex:()=>s.value,setOptionIndex:we,moveOptionSelection:pe,filter:Q,updateMenuPosition:Cl,updateInputValue:D,isOptionSelected:et,getEmittingOptionValue:qt,isOptionDisabled:(...n)=>Le.value.apply(null,n)===!0,getOptionValue:(...n)=>xe.value.apply(null,n),getOptionLabel:(...n)=>ye.value.apply(null,n)}),Object.assign(g,{innerValue:T,fieldClass:f(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:z,targetRef:S,hasValue:ee,showPopup:ot,floatingLabel:f(()=>e.hideSelected!==!0&&ee.value===!0||typeof c.value=="number"||c.value.length!==0||At(e.displayValue)),getControlChild:()=>{if(g.editable.value!==!1&&(r.value===!0||G.value!==!0||t["no-option"]!==void 0))return C===!0?nt():oe();g.hasPopupOpen===!0&&(g.hasPopupOpen=!1)},controlEvents:{onFocusin(n){g.onControlFocusin(n)},onFocusout(n){g.onControlFocusout(n,()=>{it(),at()})},onClick(n){if(dt(n),C!==!0&&o.value===!0){at(),S.value!==null&&S.value.focus();return}ot(n)}},getControl:n=>{const O=Nt(),E=n===!0||r.value!==!0||C!==!0;if(e.useInput===!0)O.push(m(n,E));else if(g.editable.value===!0){const te=E===!0?Re.value:void 0;O.push(d("input",{ref:E===!0?S:void 0,key:"d_t",class:"q-select__focus-target",id:E===!0?g.targetUid.value:void 0,value:le.value,readonly:!0,"data-autofocus":n===!0||e.autofocus===!0||void 0,...te,onKeydown:Vt,onKeyup:tt,onKeypress:He})),E===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&O.push(d("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:gt}))}if(M.value!==void 0&&e.disable!==!0&&De.value.length!==0){const te=De.value.map(Z=>d("option",{value:Z,selected:!0}));O.push(d("select",{class:"hidden",name:M.value,multiple:e.multiple},te))}const N=e.useInput===!0||E!==!0?void 0:g.splitAttrs.attributes.value;return d("div",{class:"q-field__native row items-center",...N,...g.splitAttrs.listeners.value},O)},getInnerAppend:()=>e.loading!==!0&&u.value!==!0&&e.hideDropdownIcon!==!0?[d(Fe,{class:"q-select__dropdown-icon"+(o.value===!0?" rotate-180":""),name:$e.value})]:null}),bl(g)}});const co={xs:2,sm:4,md:6,lg:10,xl:14};function Nl(e,t,l){return{transform:t===!0?`translateX(${l.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var fo=me({name:"QLinearProgress",props:{...Xe,...Xl,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:t}){const{proxy:l}=ge(),a=Ye(e,l.$q),i=Yl(e,co),o=f(()=>e.indeterminate===!0||e.query===!0),r=f(()=>e.reverse!==e.query),s=f(()=>({...i.value!==null?i.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),c=f(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),v=f(()=>Nl(e.buffer!==void 0?e.buffer:1,r.value,l.$q)),u=f(()=>`with${e.instantFeedback===!0?"out":""}-transition`),h=f(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${u.value} q-linear-progress__track--${a.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),x=f(()=>Nl(o.value===!0?1:e.value,r.value,l.$q)),b=f(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${u.value} q-linear-progress__model--${o.value===!0?"in":""}determinate`),C=f(()=>({width:`${e.value*100}%`})),k=f(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${u.value}`);return()=>{const y=[d("div",{class:h.value,style:v.value}),d("div",{class:b.value,style:x.value})];return e.stripe===!0&&o.value===!1&&y.push(d("div",{class:k.value,style:C.value})),d("div",{class:c.value,style:s.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},ml(t.default,y))}}});let St=0;const vo={fullscreen:Boolean,noRouteFullscreenExit:Boolean},mo=["update:fullscreen","fullscreen"];function go(){const e=ge(),{props:t,emit:l,proxy:a}=e;let i,o,r;const s=I(!1);Jn(e)===!0&&J(()=>a.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&u()}),J(()=>t.fullscreen,h=>{s.value!==h&&c()}),J(s,h=>{l("update:fullscreen",h),l("fullscreen",h)});function c(){s.value===!0?u():v()}function v(){s.value!==!0&&(s.value=!0,r=a.$el.parentNode,r.replaceChild(o,a.$el),document.body.appendChild(a.$el),St++,St===1&&document.body.classList.add("q-body--fullscreen-mixin"),i={handler:u},Pl.add(i))}function u(){s.value===!0&&(i!==void 0&&(Pl.remove(i),i=void 0),r.replaceChild(a.$el,o),s.value=!1,St=Math.max(0,St-1),St===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),a.$el.scrollIntoView!==void 0&&setTimeout(()=>{a.$el.scrollIntoView()})))}return vl(()=>{o=document.createElement("span")}),It(()=>{t.fullscreen===!0&&v()}),Ee(u),Object.assign(a,{toggleFullscreen:c,setFullscreen:v,exitFullscreen:u}),{inFullscreen:s,toggleFullscreen:c}}function ho(e,t){return new Date(e)-new Date(t)}const bo={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function So(e,t,l,a){const i=f(()=>{const{sortBy:s}=t.value;return s&&l.value.find(c=>c.name===s)||null}),o=f(()=>e.sortMethod!==void 0?e.sortMethod:(s,c,v)=>{const u=l.value.find(b=>b.name===c);if(u===void 0||u.field===void 0)return s;const h=v===!0?-1:1,x=typeof u.field=="function"?b=>u.field(b):b=>b[u.field];return s.sort((b,C)=>{let k=x(b),y=x(C);return u.rawSort!==void 0?u.rawSort(k,y,b,C)*h:k==null?-1*h:y==null?1*h:u.sort!==void 0?u.sort(k,y,b,C)*h:ol(k)===!0&&ol(y)===!0?(k-y)*h:Tl(k)===!0&&Tl(y)===!0?ho(k,y)*h:typeof k=="boolean"&&typeof y=="boolean"?(k-y)*h:([k,y]=[k,y].map(H=>(H+"").toLocaleString().toLowerCase()),k<y?-1*h:k===y?0:h)})});function r(s){let c=e.columnSortOrder;if(Zn(s)===!0)s.sortOrder&&(c=s.sortOrder),s=s.name;else{const h=l.value.find(x=>x.name===s);h!==void 0&&h.sortOrder&&(c=h.sortOrder)}let{sortBy:v,descending:u}=t.value;v!==s?(v=s,u=c==="da"):e.binaryStateSort===!0?u=!u:u===!0?c==="ad"?v=null:u=!1:c==="ad"?u=!0:v=null,a({sortBy:v,descending:u,page:1})}return{columnToSort:i,computedSortMethod:o,sort:r}}const yo={filter:[String,Object],filterMethod:Function};function wo(e,t){const l=f(()=>e.filterMethod!==void 0?e.filterMethod:(a,i,o,r)=>{const s=i?i.toLowerCase():"";return a.filter(c=>o.some(v=>{const u=r(v,c)+"";return(u==="undefined"||u==="null"?"":u.toLowerCase()).indexOf(s)!==-1}))});return J(()=>e.filter,()=>{Ce(()=>{t({page:1},!0)})},{deep:!0}),{computedFilterMethod:l}}function xo(e,t){for(const l in t)if(t[l]!==e[l])return!1;return!0}function Ql(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const Co={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function ko(e,t){const{props:l,emit:a}=e,i=I(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:l.rowsPerPageOptions.length!==0?l.rowsPerPageOptions[0]:5},l.pagination)),o=f(()=>{const u=l["onUpdate:pagination"]!==void 0?{...i.value,...l.pagination}:i.value;return Ql(u)}),r=f(()=>o.value.rowsNumber!==void 0);function s(u){c({pagination:u,filter:l.filter})}function c(u={}){Ce(()=>{a("request",{pagination:u.pagination||o.value,filter:u.filter||l.filter,getCellValue:t})})}function v(u,h){const x=Ql({...o.value,...u});if(xo(o.value,x)===!0){r.value===!0&&h===!0&&s(x);return}if(r.value===!0){s(x);return}l.pagination!==void 0&&l["onUpdate:pagination"]!==void 0?a("update:pagination",x):i.value=x}return{innerPagination:i,computedPagination:o,isServerSide:r,requestServerInteraction:c,setPagination:v}}function qo(e,t,l,a,i,o){const{props:r,emit:s,proxy:{$q:c}}=e,v=f(()=>a.value===!0?l.value.rowsNumber||0:o.value),u=f(()=>{const{page:B,rowsPerPage:z}=l.value;return(B-1)*z}),h=f(()=>{const{page:B,rowsPerPage:z}=l.value;return B*z}),x=f(()=>l.value.page===1),b=f(()=>l.value.rowsPerPage===0?1:Math.max(1,Math.ceil(v.value/l.value.rowsPerPage))),C=f(()=>h.value===0?!0:l.value.page>=b.value),k=f(()=>(r.rowsPerPageOptions.includes(t.value.rowsPerPage)?r.rowsPerPageOptions:[t.value.rowsPerPage].concat(r.rowsPerPageOptions)).map(z=>({label:z===0?c.lang.table.allRows:""+z,value:z})));J(b,(B,z)=>{if(B===z)return;const S=l.value.page;B&&!S?i({page:1}):B<S&&i({page:B})});function y(){i({page:1})}function H(){const{page:B}=l.value;B>1&&i({page:B-1})}function P(){const{page:B,rowsPerPage:z}=l.value;h.value>0&&B*z<v.value&&i({page:B+1})}function L(){i({page:b.value})}return r["onUpdate:pagination"]!==void 0&&s("update:pagination",{...l.value}),{firstRowIndex:u,lastRowIndex:h,isFirstPage:x,isLastPage:C,pagesNumber:b,computedRowsPerPageOptions:k,computedRowsNumber:v,firstPage:y,prevPage:H,nextPage:P,lastPage:L}}const _o={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},po=["update:selected","selection"];function Vo(e,t,l,a){const i=f(()=>{const C={};return e.selected.map(a.value).forEach(k=>{C[k]=!0}),C}),o=f(()=>e.selection!=="none"),r=f(()=>e.selection==="single"),s=f(()=>e.selection==="multiple"),c=f(()=>l.value.length!==0&&l.value.every(C=>i.value[a.value(C)]===!0)),v=f(()=>c.value!==!0&&l.value.some(C=>i.value[a.value(C)]===!0)),u=f(()=>e.selected.length);function h(C){return i.value[C]===!0}function x(){t("update:selected",[])}function b(C,k,y,H){t("selection",{rows:k,added:y,keys:C,evt:H});const P=r.value===!0?y===!0?k:[]:y===!0?e.selected.concat(k):e.selected.filter(L=>C.includes(a.value(L))===!1);t("update:selected",P)}return{hasSelectionMode:o,singleSelection:r,multipleSelection:s,allRowsSelected:c,someRowsSelected:v,rowsSelectedNumber:u,isRowSelected:h,clearSelection:x,updateSelection:b}}function Wl(e){return Array.isArray(e)?e.slice():[]}const Po={expanded:Array},To=["update:expanded"];function Bo(e,t){const l=I(Wl(e.expanded));J(()=>e.expanded,r=>{l.value=Wl(r)});function a(r){return l.value.includes(r)}function i(r){e.expanded!==void 0?t("update:expanded",r):l.value=r}function o(r,s){const c=l.value.slice(),v=c.indexOf(r);s===!0?v===-1&&(c.push(r),i(c)):v!==-1&&(c.splice(v,1),i(c))}return{isRowExpanded:a,setExpanded:i,updateExpanded:o}}const Fo={visibleColumns:Array};function Eo(e,t,l){const a=f(()=>{if(e.columns!==void 0)return e.columns;const s=e.rows[0];return s!==void 0?Object.keys(s).map(c=>({name:c,label:c.toUpperCase(),field:c,align:ol(s[c])?"right":"left",sortable:!0})):[]}),i=f(()=>{const{sortBy:s,descending:c}=t.value;return(e.visibleColumns!==void 0?a.value.filter(u=>u.required===!0||e.visibleColumns.includes(u.name)===!0):a.value).map(u=>{const h=u.align||"right",x=`text-${h}`;return{...u,align:h,__iconClass:`q-table__sort-icon q-table__sort-icon--${h}`,__thClass:x+(u.headerClasses!==void 0?" "+u.headerClasses:"")+(u.sortable===!0?" sortable":"")+(u.name===s?` sorted ${c===!0?"sort-desc":""}`:""),__tdStyle:u.style!==void 0?typeof u.style!="function"?()=>u.style:u.style:()=>null,__tdClass:u.classes!==void 0?typeof u.classes!="function"?()=>x+" "+u.classes:b=>x+" "+u.classes(b):()=>x}})}),o=f(()=>{const s={};return i.value.forEach(c=>{s[c.name]=c}),s}),r=f(()=>e.tableColspan!==void 0?e.tableColspan:i.value.length+(l.value===!0?1:0));return{colList:a,computedCols:i,computedColsMap:o,computedColspan:r}}const Ot="q-table__bottom row items-center",kn={};xn.forEach(e=>{kn[e]={}});var Oo=me({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},...kn,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...Xe,...vo,...Fo,...yo,...Co,...Po,..._o,...bo},emits:["request","virtualScroll",...mo,...To,...po],setup(e,{slots:t,emit:l}){const a=ge(),{proxy:{$q:i}}=a,o=Ye(e,i),{inFullscreen:r,toggleFullscreen:s}=go(),c=f(()=>typeof e.rowKey=="function"?e.rowKey:m=>m[e.rowKey]),v=I(null),u=I(null),h=f(()=>e.grid!==!0&&e.virtualScroll===!0),x=f(()=>" q-table__card"+(o.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),b=f(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":x.value)+(o.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(r.value===!0?" fullscreen scroll":"")),C=f(()=>b.value+(e.loading===!0?" q-table--loading":""));J(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+b.value,()=>{h.value===!0&&u.value!==null&&u.value.reset()});const{innerPagination:k,computedPagination:y,isServerSide:H,requestServerInteraction:P,setPagination:L}=ko(a,we),{computedFilterMethod:B}=wo(e,L),{isRowExpanded:z,setExpanded:S,updateExpanded:V}=Bo(e,l),w=f(()=>{let m=e.rows;if(H.value===!0||m.length===0)return m;const{sortBy:R,descending:$}=y.value;return e.filter&&(m=B.value(m,e.filter,g.value,we)),K.value!==null&&(m=ee.value(e.rows===m?m.slice():m,R,$)),m}),_=f(()=>w.value.length),M=f(()=>{let m=w.value;if(H.value===!0)return m;const{rowsPerPage:R}=y.value;return R!==0&&(A.value===0&&e.rows!==m?m.length>G.value&&(m=m.slice(0,G.value)):m=m.slice(A.value,G.value)),m}),{hasSelectionMode:X,singleSelection:Y,multipleSelection:se,allRowsSelected:ce,someRowsSelected:fe,rowsSelectedNumber:ie,isRowSelected:q,clearSelection:W,updateSelection:U}=Vo(e,l,M,c),{colList:de,computedCols:g,computedColsMap:T,computedColspan:j}=Eo(e,y,X),{columnToSort:K,computedSortMethod:ee,sort:F}=So(e,y,de,L),{firstRowIndex:A,lastRowIndex:G,isFirstPage:p,isLastPage:le,pagesNumber:be,computedRowsPerPageOptions:Oe,computedRowsNumber:Se,firstPage:Re,prevPage:ke,nextPage:qe,lastPage:Ae}=qo(a,k,y,H,L,_),$e=f(()=>M.value.length===0),mt=f(()=>{const m={};return xn.forEach(R=>{m[R]=e[R]}),m.virtualScrollItemSize===void 0&&(m.virtualScrollItemSize=e.dense===!0?28:48),m});function Ie(){h.value===!0&&u.value.reset()}function xe(){if(e.grid===!0)return Tt();const m=e.hideHeader!==!0?et:null;if(h.value===!0){const $=t["top-row"],D=t["bottom-row"],Q={default:oe=>kt(oe.item,t.body,oe.index)};if($!==void 0){const oe=d("tbody",$({cols:g.value}));Q.before=m===null?()=>oe:()=>[m()].concat(oe)}else m!==null&&(Q.before=m);return D!==void 0&&(Q.after=()=>d("tbody",D({cols:g.value}))),d(no,{ref:u,class:e.tableClass,style:e.tableStyle,...mt.value,scrollTarget:e.virtualScrollTarget,items:M.value,type:"__qtable",tableColspan:j.value,onVirtualScroll:Le},Q)}const R=[qt()];return m!==null&&R.unshift(m()),Sn({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},R)}function ye(m,R){if(u.value!==null){u.value.scrollTo(m,R);return}m=parseInt(m,10);const $=v.value.querySelector(`tbody tr:nth-of-type(${m+1})`);if($!==null){const D=v.value.querySelector(".q-table__middle.scroll"),Q=$.offsetTop-e.virtualScrollStickySizeStart,oe=Q<D.scrollTop?"decrease":"increase";D.scrollTop=Q,l("virtualScroll",{index:m,from:0,to:k.value.rowsPerPage-1,direction:oe})}}function Le(m){l("virtualScroll",m)}function De(){return[d(fo,{class:"q-table__linear-progress",color:e.color,dark:o.value,indeterminate:!0,trackColor:"transparent"})]}function kt(m,R,$){const D=c.value(m),Q=q(D);if(R!==void 0)return R(Je({key:D,row:m,pageIndex:$,__trClass:Q?"selected":""}));const oe=t["body-cell"],ae=g.value.map(he=>{const lt=t[`body-cell-${he.name}`],nt=lt!==void 0?lt:oe;return nt!==void 0?nt(Dt({key:D,row:m,pageIndex:$,col:he})):d("td",{class:he.__tdClass(m),style:he.__tdStyle(m)},we(he,m))});if(X.value===!0){const he=t["body-selection"],lt=he!==void 0?he(_t({key:D,row:m,pageIndex:$})):[d(Zt,{modelValue:Q,color:e.color,dark:o.value,dense:e.dense,"onUpdate:modelValue":(nt,Qt)=>{U([D],[m],nt,Qt)}})];ae.unshift(d("td",{class:"q-table--col-auto-width"},lt))}const Ve={key:D,class:{selected:Q}};return e.onRowClick!==void 0&&(Ve.class["cursor-pointer"]=!0,Ve.onClick=he=>{l("rowClick",he,m,$)}),e.onRowDblclick!==void 0&&(Ve.class["cursor-pointer"]=!0,Ve.onDblclick=he=>{l("rowDblclick",he,m,$)}),e.onRowContextmenu!==void 0&&(Ve.class["cursor-pointer"]=!0,Ve.onContextmenu=he=>{l("rowContextmenu",he,m,$)}),d("tr",Ve,ae)}function qt(){const m=t.body,R=t["top-row"],$=t["bottom-row"];let D=M.value.map((Q,oe)=>kt(Q,m,oe));return R!==void 0&&(D=R({cols:g.value}).concat(D)),$!==void 0&&(D=D.concat($({cols:g.value}))),d("tbody",D)}function Je(m){return _e(m),m.cols=m.cols.map(R=>Me({...R},"value",()=>we(R,m.row))),m}function Dt(m){return _e(m),Me(m,"value",()=>we(m.col,m.row)),m}function _t(m){return _e(m),m}function _e(m){Object.assign(m,{cols:g.value,colsMap:T.value,sort:F,rowIndex:A.value+m.pageIndex,color:e.color,dark:o.value,dense:e.dense}),X.value===!0&&Me(m,"selected",()=>q(m.key),(R,$)=>{U([m.key],[m.row],R,$)}),Me(m,"expand",()=>z(m.key),R=>{V(m.key,R)})}function we(m,R){const $=typeof m.field=="function"?m.field(R):R[m.field];return m.format!==void 0?m.format($,R):$}const pe=f(()=>({pagination:y.value,pagesNumber:be.value,isFirstPage:p.value,isLastPage:le.value,firstPage:Re,prevPage:ke,nextPage:qe,lastPage:Ae,inFullscreen:r.value,toggleFullscreen:s}));function Ht(){const m=t.top,R=t["top-left"],$=t["top-right"],D=t["top-selection"],Q=X.value===!0&&D!==void 0&&ie.value>0,oe="q-table__top relative-position row items-center";if(m!==void 0)return d("div",{class:oe},[m(pe.value)]);let ae;if(Q===!0?ae=D(pe.value).slice():(ae=[],R!==void 0?ae.push(d("div",{class:"q-table__control"},[R(pe.value)])):e.title&&ae.push(d("div",{class:"q-table__control"},[d("div",{class:["q-table__title",e.titleClass]},e.title)]))),$!==void 0&&(ae.push(d("div",{class:"q-table__separator col"})),ae.push(d("div",{class:"q-table__control"},[$(pe.value)]))),ae.length!==0)return d("div",{class:oe},ae)}const Ze=f(()=>fe.value===!0?null:ce.value);function et(){const m=pt();return e.loading===!0&&t.loading===void 0&&m.push(d("tr",{class:"q-table__progress"},[d("th",{class:"relative-position",colspan:j.value},De())])),d("thead",m)}function pt(){const m=t.header,R=t["header-cell"];if(m!==void 0)return m(tt({header:!0})).slice();const $=g.value.map(D=>{const Q=t[`header-cell-${D.name}`],oe=Q!==void 0?Q:R,ae=tt({col:D});return oe!==void 0?oe(ae):d(Xa,{key:D.name,props:ae},()=>D.label)});if(Y.value===!0&&e.grid!==!0)$.unshift(d("th",{class:"q-table--col-auto-width"}," "));else if(se.value===!0){const D=t["header-selection"],Q=D!==void 0?D(tt({})):[d(Zt,{color:e.color,modelValue:Ze.value,dark:o.value,dense:e.dense,"onUpdate:modelValue":gt})];$.unshift(d("th",{class:"q-table--col-auto-width"},Q))}return[d("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},$)]}function tt(m){return Object.assign(m,{cols:g.value,sort:F,colsMap:T.value,color:e.color,dark:o.value,dense:e.dense}),se.value===!0&&Me(m,"selected",()=>Ze.value,gt),m}function gt(m){fe.value===!0&&(m=!1),U(M.value.map(c.value),M.value,m)}const He=f(()=>{const m=[e.iconFirstPage||i.iconSet.table.firstPage,e.iconPrevPage||i.iconSet.table.prevPage,e.iconNextPage||i.iconSet.table.nextPage,e.iconLastPage||i.iconSet.table.lastPage];return i.lang.rtl===!0?m.reverse():m});function Vt(){if(e.hideBottom===!0)return;if($e.value===!0){if(e.hideNoData===!0)return;const $=e.loading===!0?e.loadingLabel||i.lang.table.loading:e.filter?e.noResultsLabel||i.lang.table.noResults:e.noDataLabel||i.lang.table.noData,D=t["no-data"],Q=D!==void 0?[D({message:$,icon:i.iconSet.table.warning,filter:e.filter})]:[d(Fe,{class:"q-table__bottom-nodata-icon",name:i.iconSet.table.warning}),$];return d("div",{class:Ot+" q-table__bottom--nodata"},Q)}const m=t.bottom;if(m!==void 0)return d("div",{class:Ot},[m(pe.value)]);const R=e.hideSelectedBanner!==!0&&X.value===!0&&ie.value>0?[d("div",{class:"q-table__control"},[d("div",[(e.selectedRowsLabel||i.lang.table.selectedRecords)(ie.value)])])]:[];if(e.hidePagination!==!0)return d("div",{class:Ot+" justify-end"},jt(R));if(R.length!==0)return d("div",{class:Ot},R)}function Pt(m){L({page:1,rowsPerPage:m.value})}function jt(m){let R;const{rowsPerPage:$}=y.value,D=e.paginationLabel||i.lang.table.pagination,Q=t.pagination,oe=e.rowsPerPageOptions.length>1;if(m.push(d("div",{class:"q-table__separator col"})),oe===!0&&m.push(d("div",{class:"q-table__control"},[d("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||i.lang.table.recordsPerPage]),d(so,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:$,options:Oe.value,displayValue:$===0?i.lang.table.allRows:$,dark:o.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":Pt})])),Q!==void 0)R=Q(pe.value);else if(R=[d("span",$!==0?{class:"q-table__bottom-item"}:{},[$?D(A.value+1,Math.min(G.value,Se.value),Se.value):D(1,_.value,Se.value)])],$!==0&&be.value>1){const ae={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(ae.size="sm"),be.value>2&&R.push(d(ct,{key:"pgFirst",...ae,icon:He.value[0],disable:p.value,onClick:Re})),R.push(d(ct,{key:"pgPrev",...ae,icon:He.value[1],disable:p.value,onClick:ke}),d(ct,{key:"pgNext",...ae,icon:He.value[2],disable:le.value,onClick:qe})),be.value>2&&R.push(d(ct,{key:"pgLast",...ae,icon:He.value[3],disable:le.value,onClick:Ae}))}return m.push(d("div",{class:"q-table__control"},R)),m}function Nt(){const m=e.gridHeader===!0?[d("table",{class:"q-table"},[et()])]:e.loading===!0&&t.loading===void 0?De():void 0;return d("div",{class:"q-table__middle"},m)}function Tt(){const m=t.item!==void 0?t.item:R=>{const $=R.cols.map(Q=>d("div",{class:"q-table__grid-item-row"},[d("div",{class:"q-table__grid-item-title"},[Q.label]),d("div",{class:"q-table__grid-item-value"},[Q.value])]));if(X.value===!0){const Q=t["body-selection"],oe=Q!==void 0?Q(R):[d(Zt,{modelValue:R.selected,color:e.color,dark:o.value,dense:e.dense,"onUpdate:modelValue":(ae,Ve)=>{U([R.key],[R.row],ae,Ve)}})];$.unshift(d("div",{class:"q-table__grid-item-row"},oe),d(ul,{dark:o.value}))}const D={class:["q-table__grid-item-card"+x.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(D.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(D.onClick=Q=>{l("RowClick",Q,R.row,R.pageIndex)}),e.onRowDblclick!==void 0&&(D.onDblclick=Q=>{l("RowDblclick",Q,R.row,R.pageIndex)})),d("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(R.selected===!0?" q-table__grid-item--selected":"")},[d("div",D,$)])};return d("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},M.value.map((R,$)=>m(Je({key:c.value(R),row:R,pageIndex:$}))))}return Object.assign(a.proxy,{requestServerInteraction:P,setPagination:L,firstPage:Re,prevPage:ke,nextPage:qe,lastPage:Ae,isRowSelected:q,clearSelection:W,isRowExpanded:z,setExpanded:S,sort:F,resetVirtualScroll:Ie,scrollTo:ye,getCellValue:we}),ea(a.proxy,{filteredSortedRows:()=>w.value,computedRows:()=>M.value,computedRowsNumber:()=>Se.value}),()=>{const m=[Ht()],R={ref:v,class:C.value};return e.grid===!0?m.push(Nt()):Object.assign(R,{class:[R.class,e.cardClass],style:e.cardStyle}),m.push(xe(),Vt()),e.loading===!0&&t.loading!==void 0&&m.push(t.loading()),d("div",R,m)}}});function Ul(e){setTimeout(()=>{window.URL.revokeObjectURL(e.href)},1e4),e.remove()}function Kl(e,t,l={}){const{mimeType:a,byteOrderMark:i,encoding:o}=typeof l=="string"?{mimeType:l}:l,r=o!==void 0?new TextEncoder(o).encode([t]):t,s=i!==void 0?[i,r]:[r],c=new Blob(s,{type:a||"application/octet-stream"}),v=document.createElement("a");v.href=window.URL.createObjectURL(c),v.setAttribute("download",e),typeof v.download=="undefined"&&v.setAttribute("target","_blank"),v.classList.add("hidden"),v.style.position="fixed",document.body.appendChild(v);try{return v.click(),Ul(v),!0}catch(u){return Ul(v),u}}const Ro=async()=>{const e=await ta("battles");return Array.from(Object.values(e))},Ao={class:"q-pa-md col"},Lo=["href"],Mo={key:0},zo={key:0},$o={key:1},ti=la({__name:"BattlesPage",setup(e){const t=I(!1),l=(S,V)=>{const w=V?S.getPlayer():S.getOpponent();return w.team.map(_=>[w.sentOut.findIndex(X=>X.id===_)+1,_])},a=[{name:"time",label:"Time",field:"time",format:S=>new Date(S*1e3).toLocaleString(),sortable:!0},{name:"opponent",label:"Opponent",field:S=>S.userPlayer===Fl.Unknown?`${S.p1}, ${S.p2}`:S.getOpponent().name},{name:"rating",label:"Rating",field:S=>S.rating?`${S.rating} (${S.getOpponent().rating})`:S.getOpponent().rating.toString(),sortable:!0},{name:"result",label:"Result",field:S=>S.userPlayer===Fl.Unknown?"N/A":S.userPlayer===S.winner?"Win":"Lose"},{name:"team1",label:"Team 1",field:S=>l(S,!0)},{name:"team2",label:"Team 2",field:S=>l(S,!1)},{name:"remarks",label:"Remarks",field:S=>S.remarks||"",style:"text-align: left;"},{name:"tags",label:"Tags",field:"tags"}],i=a.concat([{name:"userPlayer",label:"User Player",field:S=>S.getPlayer().name},{name:"platform",label:"Platform",field:"platform"},{name:"id",label:"ID",field:"id"}]),o=I([]);It(async()=>{o.value=await Ro()});const r=I({rowsPerPage:0}),s=I(20),c=I("filters"),v=I(""),u=I(!1),h=f(()=>`Battles (${C.value.length}/${o.value.length})`),x=S=>S.filter(w=>w.id.startsWith("gen9vgc2023regulatione")),b=S=>{if(!v.value)return S;const V=v.value.trim().toLowerCase();return V?S.filter(w=>Object.values(w).some(_=>String(_).toLowerCase().includes(V))):S},C=f(()=>x(b(o.value))),k=f(()=>t.value?i:a),y=I(),H=na().config;J(()=>y.value,S=>{if(!S)return;y.value=void 0;const V=new FileReader;V.onload=async w=>{if(!w.target)return;const{result:_}=w.target;if(!_)return;const{usernames:M,battles:X}=JSON.parse(_);M&&M.forEach(Y=>{H.showdownUsernames.includes(Y)||H.showdownUsernames.push(Y)}),X&&await ia("battles",X),Bt("Import completed"),window.location.reload()},V.readAsText(S)});const P=async()=>{const S=ua(),V={usernames:H.showdownUsernames,battles:await S.battles.toArray()},w=JSON.stringify(V);Kl("data.json",w)};function L(S,V,w){let _=V!==void 0?V(S,w):S;return _=_==null?"":String(_),_=_.split('"').join('""'),`"${_}"`}const B=async()=>{if(!k.value)return;const S=k.value,V=[S.map(_=>L(_.label))].concat(C.value.map(_=>S.map(M=>L(typeof M.field=="function"?M.field(_):_[M.field===void 0?M.name:M.field],M.format,_)).join(","))).join(`\r
`);Kl("table-export.csv",V,{mimeType:"text/csv",byteOrderMark:"\uFEFF"})!==!0&&Bt("Browser denied file download...","negative",{icon:"warning"})},z=async(S,V)=>{try{await ra("battles",S);const w=V?`${V.name} updated`:"Battle updated";Bt(w)}catch(w){console.error(w),Bt(`Error saving battle: ${w.message}`,"negative",{icon:"warning"})}};return(S,V)=>(Be(),Gt(_a,{class:"row items-top justify-evenly",title:"Battles (WIP and not working right now)"},{default:re(()=>[Bl("div",Ao,[ne(Oa,{class:"col",style:{width:"100%"},label:"Actions",modelValue:u.value,"onUpdate:modelValue":V[5]||(V[5]=w=>u.value=w)},{default:re(()=>[ne(Bn,{modelValue:s.value,"onUpdate:modelValue":V[4]||(V[4]=w=>s.value=w),style:{height:"748px",width:"100%"}},{before:re(()=>[ne(Fn,{modelValue:c.value,"onUpdate:modelValue":V[2]||(V[2]=w=>c.value=w),vertical:""},{default:re(()=>[ne(pl,{name:"filters",icon:"filter_alt",label:"Filters"}),ne(pl,{name:"analytics",icon:"analytics",label:"Analytics"}),ne(ut,{href:"https://github.com/sunoru/vgc/blob/main/src/utils/models.ts",icon:"source",label:"Model Reference",target:"_blank"}),ne(ut,{href:"https://github.com/sunoru/vgc/blob/main/scripts/helpers.ts",icon:"help_center",label:"Helper Functions",target:"_blank"}),ne(ut,{icon:"file_upload",label:"Import All Data"},{default:re(()=>[ne(Ba,{modelValue:y.value,"onUpdate:modelValue":V[0]||(V[0]=w=>y.value=w),filled:"",style:{width:"100%",position:"absolute",opacity:"0"}},null,8,["modelValue"])]),_:1}),ne(ut,{icon:"file_download",label:"Export All Data",onClick:P}),ne(ut,{icon:"file_download",label:"Export Table (CSV)",onClick:B}),ne(ut,null,{default:re(()=>[ne(ya,{modelValue:t.value,"onUpdate:modelValue":V[1]||(V[1]=w=>t.value=w),label:"Extended Fields"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),after:re(()=>[ne(En,{modelValue:c.value,"onUpdate:modelValue":V[3]||(V[3]=w=>c.value=w),animated:"",swipeable:"",vertical:"","transition-prev":"jump-up","transition-next":"jump-up"},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),ne(Oo,{title:h.value,class:"battle-table q-mt-md","table-header-class":"battle-table-header",rows:C.value,columns:k.value,separator:"cell","row-key":"id",bordered:"","virtual-scroll":"",pagination:r.value,"onUpdate:pagination":V[8]||(V[8]=w=>r.value=w),"rows-per-page-options":[0]},{"top-right":re(()=>[ne(Ol,{borderless:"",dense:"",debounce:"300",modelValue:v.value,"onUpdate:modelValue":V[6]||(V[6]=w=>v.value=w),placeholder:"Search"},{append:re(()=>[ne(Fe,{name:"search"})]),_:1},8,["modelValue"])]),"body-cell-time":re(w=>[ne(ht,{props:w},{default:re(()=>[Bl("a",{style:{color:"inherit","text-decoration":"none"},href:w.row.url,target:"_blank"},Xt(w.value),9,Lo)]),_:2},1032,["props"])]),"body-cell-result":re(w=>[ne(ht,{props:w},{default:re(()=>[ne(yt,{color:w.value==="Win"?"light-green-8":"orange-8",label:w.value},null,8,["color","label"])]),_:2},1032,["props"])]),"body-cell-tags":re(w=>[ne(ht,{props:w},{default:re(()=>[(Be(!0),Ne(Jt,null,Yt(w.value,(_,M)=>(Be(),Gt(yt,{key:M,color:"teal-8",label:_},null,8,["label"]))),128))]),_:2},1032,["props"])]),"body-cell-remarks":re(w=>[ne(ht,{props:w,style:{width:"100%","min-height":"24px"}},{default:re(()=>[(Be(!0),Ne(Jt,null,Yt(w.value.split(`
`),(_,M)=>(Be(),Ne("span",{key:M},[M>0?(Be(),Ne("br",Mo)):sa("",!0),ca(" "+Xt(_),1)]))),128)),ne(Ga,{modelValue:w.row.remarks,"onUpdate:modelValue":_=>w.row.remarks=_,buttons:"",onSave:_=>z(w.row,w.col)},{default:re(_=>[ne(Ol,{type:"textarea",modelValue:_.value,"onUpdate:modelValue":M=>_.value=M,counter:"",onKeyup:V[7]||(V[7]=aa(oa(()=>{},["stop"]),["enter"]))},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])]),_:2},1032,["props"])]),"body-cell":re(w=>[ne(ht,{props:w},{default:re(()=>[["team1","team2"].includes(w.col.name)?(Be(),Ne("div",zo,[(Be(!0),Ne(Jt,null,Yt(w.value,([_,M],X)=>(Be(),Gt(yt,{key:X,label:(_>0?_+" ":"")+M,color:_>0?"purple":""},null,8,["label","color"]))),128))])):(Be(),Ne("span",$o,Xt(w.value),1))]),_:2},1032,["props"])]),_:1},8,["title","rows","columns","pagination"])])]),_:1}))}});export{ti as default};
